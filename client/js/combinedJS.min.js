var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,f){b!=Array.prototype&&b!=Object.prototype&&(b[a]=f.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,a,f,g){if(a){f=$jscomp.global;b=b.split(".");for(g=0;g<b.length-1;g++){var d=b[g];d in f||(f[d]={});f=f[d]}b=b[b.length-1];g=f[b];a=a(g);a!=g&&null!=a&&$jscomp.defineProperty(f,b,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Object.setPrototypeOf",function(b){return b?b:"object"!=typeof"".__proto__?null:function(b,f){b.__proto__=f;if(b.__proto__!==f)throw new TypeError(b+" is not extensible");return b}},"es6","es5");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var a=0;return $jscomp.iteratorPrototype(function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,a){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var f=0,g={next:function(){if(f<b.length){var d=f++;return{value:a(d,b[d]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,f){return b===f?0!==b||1/b===1/f:b!==b&&f!==f}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,f){var a=this;a instanceof String&&(a=String(a));var d=a.length;for(f=f||0;f<d;f++)if(a[f]==b||Object.is(a[f],b))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,a,f){if(null==b)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,f){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,f||0)}},"es6-impl","es3");
SSHyClient={MSG_DISCONNECT:1,MSG_IGNORE:2,MSG_UNIMPLEMENTED:3,MSG_DEBUG:4,MSG_SERVICE_REQUEST:5,MSG_SERVICE_ACCEPT:6,MSG_KEX_INIT:20,MSG_NEW_KEYS:21,MSG_KEXDH_INIT:30,MSG_KEXDH_GEX_GROUP:31,MSG_KEXDH_GEX_INIT:32,MSG_KEXDH_GEX_REPLY:33,MSG_KEXDH_GEX_REQUEST:34,MSG_USERAUTH_REQUEST:50,MSG_USERAUTH_FAILURE:51,MSG_USERAUTH_SUCCESS:52,MSG_USERAUTH_BANNER:53,MSG_GLOBAL_REQUEST:80,MSG_REQUEST_SUCCESS:81,MSG_REQUEST_FAILURE:82,MSG_CHANNEL_OPEN:90,MSG_CHANNEL_OPEN_SUCCESS:91,MSG_CHANNEL_OPEN_FAILURE:92,MSG_CHANNEL_WINDOW_ADJUST:93,
MSG_CHANNEL_DATA:94,MSG_CHANNEL_EXTENDED_DATA:95,MSG_CHANNEL_EOF:96,MSG_CHANNEL_CLOSE:97,MSG_CHANNEL_REQUEST:98,MSG_CHANNEL_SUCCESS:99,MSG_CHANNEL_FAILURE:100,WINDOW_SIZE:40674,MAX_PACKET_SIZE:16384,AES_CBC:2,AES_CTR:6};var BigInteger=function(){function b(b,a,h){null!=b&&("number"==typeof b?this.fromNumber(b,a,h):null==a&&"string"!=typeof b?this.fromString(b,256):this.fromString(b,a))}function a(){return new b(null)}function f(b,a,h,v,e,d){for(;0<=--d;){var q=a*this[b++]+h[v]+e;e=Math.floor(q/67108864);h[v++]=q&67108863}return e}function g(b,a,h,v,e,d){var q=a&32767;for(a>>=15;0<=--d;){var t=this[b]&32767,f=this[b++]>>15,l=a*t+f*q,t=q*t+((l&32767)<<15)+h[v]+(e&1073741823);e=(t>>>30)+(l>>>15)+a*f+(e>>>30);h[v++]=
t&1073741823}return e}function d(b,a,h,e,d,f){var q=a&16383;for(a>>=14;0<=--f;){var v=this[b]&16383,t=this[b++]>>14,l=a*v+t*q,v=q*v+((l&16383)<<14)+h[e]+d;d=(v>>28)+(l>>14)+a*t;h[e++]=v&268435455}return d}function k(b,a){b=B[b.charCodeAt(a)];return null==b?-1:b}function n(b){var q=a();q.fromInt(b);return q}function l(b){var a=1,h;0!=(h=b>>>16)&&(b=h,a+=16);0!=(h=b>>8)&&(b=h,a+=8);0!=(h=b>>4)&&(b=h,a+=4);0!=(h=b>>2)&&(b=h,a+=2);0!=b>>1&&(a+=1);return a}function e(b){this.m=b}function u(b){this.m=b;
this.mp=b.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<b.DB-15)-1;this.mt2=2*b.t}function p(b,a){return b&a}function r(b,a){return b|a}function A(b,a){return b^a}function w(b,a){return b&~a}function z(){}function m(b){return b}function E(q){this.r2=a();this.q3=a();b.ONE.dlShiftTo(2*q.t,this.r2);this.mu=this.r2.divide(q);this.m=q}var y;"Microsoft Internet Explorer"==navigator.appName?(b.prototype.am=g,y=30):"Netscape"!=navigator.appName?(b.prototype.am=f,y=26):(b.prototype.am=
d,y=28);b.prototype.DB=y;b.prototype.DM=(1<<y)-1;b.prototype.DV=1<<y;b.prototype.FV=Math.pow(2,52);b.prototype.F1=52-y;b.prototype.F2=2*y-52;var B=[],D;y=48;for(D=0;9>=D;++D)B[y++]=D;y=97;for(D=10;36>D;++D)B[y++]=D;y=65;for(D=10;36>D;++D)B[y++]=D;e.prototype.convert=function(b){return 0>b.s||0<=b.compareTo(this.m)?b.mod(this.m):b};e.prototype.revert=function(b){return b};e.prototype.reduce=function(b){b.divRemTo(this.m,null,b)};e.prototype.mulTo=function(b,a,h){b.multiplyTo(a,h);this.reduce(h)};e.prototype.sqrTo=
function(b,a){b.squareTo(a);this.reduce(a)};u.prototype.convert=function(e){var q=a();e.abs().dlShiftTo(this.m.t,q);q.divRemTo(this.m,null,q);0>e.s&&0<q.compareTo(b.ZERO)&&this.m.subTo(q,q);return q};u.prototype.revert=function(b){var e=a();b.copyTo(e);this.reduce(e);return e};u.prototype.reduce=function(b){for(;b.t<=this.mt2;)b[b.t++]=0;for(var a=0;a<this.m.t;++a){var h=b[a]&32767,e=h*this.mpl+((h*this.mph+(b[a]>>15)*this.mpl&this.um)<<15)&b.DM,h=a+this.m.t;for(b[h]+=this.m.am(0,e,b,a,0,this.m.t);b[h]>=
b.DV;)b[h]-=b.DV,b[++h]++}b.clamp();b.drShiftTo(this.m.t,b);0<=b.compareTo(this.m)&&b.subTo(this.m,b)};u.prototype.mulTo=function(b,a,h){b.multiplyTo(a,h);this.reduce(h)};u.prototype.sqrTo=function(b,a){b.squareTo(a);this.reduce(a)};b.prototype.copyTo=function(b){for(var a=this.t-1;0<=a;--a)b[a]=this[a];b.t=this.t;b.s=this.s};b.prototype.fromInt=function(b){this.t=1;this.s=0>b?-1:0;0<b?this[0]=b:-1>b?this[0]=b+DV:this.t=0};b.prototype.fromString=function(a,e){if(16==e)e=4;else if(8==e)e=3;else if(256==
e)e=8;else if(2==e)e=1;else if(32==e)e=5;else if(4==e)e=2;else{this.fromRadix(a,e);return}this.s=this.t=0;for(var h=a.length,v=!1,d=0;0<=--h;){var q=8==e?a[h]&255:k(a,h);0>q?"-"==a.charAt(h)&&(v=!0):(v=!1,0==d?this[this.t++]=q:d+e>this.DB?(this[this.t-1]|=(q&(1<<this.DB-d)-1)<<d,this[this.t++]=q>>this.DB-d):this[this.t-1]|=q<<d,d+=e,d>=this.DB&&(d-=this.DB))}8==e&&0!=(a[0]&128)&&(this.s=-1,0<d&&(this[this.t-1]|=(1<<this.DB-d)-1<<d));this.clamp();v&&b.ZERO.subTo(this,this)};b.prototype.clamp=function(){for(var b=
this.s&this.DM;0<this.t&&this[this.t-1]==b;)--this.t};b.prototype.dlShiftTo=function(b,a){var h;for(h=this.t-1;0<=h;--h)a[h+b]=this[h];for(h=b-1;0<=h;--h)a[h]=0;a.t=this.t+b;a.s=this.s};b.prototype.drShiftTo=function(b,a){for(var h=b;h<this.t;++h)a[h-b]=this[h];a.t=Math.max(this.t-b,0);a.s=this.s};b.prototype.lShiftTo=function(b,a){var h=b%this.DB,e=this.DB-h,d=(1<<e)-1;b=Math.floor(b/this.DB);var q=this.s<<h&this.DM,t;for(t=this.t-1;0<=t;--t)a[t+b+1]=this[t]>>e|q,q=(this[t]&d)<<h;for(t=b-1;0<=t;--t)a[t]=
0;a[b]=q;a.t=this.t+b+1;a.s=this.s;a.clamp()};b.prototype.rShiftTo=function(b,a){a.s=this.s;var h=Math.floor(b/this.DB);if(h>=this.t)a.t=0;else{b%=this.DB;var e=this.DB-b,d=(1<<b)-1;a[0]=this[h]>>b;for(var q=h+1;q<this.t;++q)a[q-h-1]|=(this[q]&d)<<e,a[q-h]=this[q]>>b;0<b&&(a[this.t-h-1]|=(this.s&d)<<e);a.t=this.t-h;a.clamp()}};b.prototype.subTo=function(b,a){for(var h=0,e=0,d=Math.min(b.t,this.t);h<d;)e+=this[h]-b[h],a[h++]=e&this.DM,e>>=this.DB;if(b.t<this.t){for(e-=b.s;h<this.t;)e+=this[h],a[h++]=
e&this.DM,e>>=this.DB;e+=this.s}else{for(e+=this.s;h<b.t;)e-=b[h],a[h++]=e&this.DM,e>>=this.DB;e-=b.s}a.s=0>e?-1:0;-1>e?a[h++]=this.DV+e:0<e&&(a[h++]=e);a.t=h;a.clamp()};b.prototype.multiplyTo=function(a,e){var h=this.abs(),d=a.abs(),q=h.t;for(e.t=q+d.t;0<=--q;)e[q]=0;for(q=0;q<d.t;++q)e[q+h.t]=h.am(0,d[q],e,q,0,h.t);e.s=0;e.clamp();this.s!=a.s&&b.ZERO.subTo(e,e)};b.prototype.squareTo=function(b){for(var a=this.abs(),h=b.t=2*a.t;0<=--h;)b[h]=0;for(h=0;h<a.t-1;++h){var e=a.am(h,a[h],b,2*h,0,1);(b[h+
a.t]+=a.am(h+1,2*a[h],b,2*h+1,e,a.t-h-1))>=a.DV&&(b[h+a.t]-=a.DV,b[h+a.t+1]=1)}0<b.t&&(b[b.t-1]+=a.am(h,a[h],b,2*h,0,1));b.s=0;b.clamp()};b.prototype.divRemTo=function(e,d,h){var v=e.abs();if(!(0>=v.t)){var q=this.abs();if(q.t<v.t)null!=d&&d.fromInt(0),null!=h&&this.copyTo(h);else{null==h&&(h=a());var f=a(),k=this.s;e=e.s;var t=this.DB-l(v[v.t-1]);0<t?(v.lShiftTo(t,f),q.lShiftTo(t,h)):(v.copyTo(f),q.copyTo(h));v=f.t;q=f[v-1];if(0!=q){var r=q*(1<<this.F1)+(1<v?f[v-2]>>this.F2:0),n=this.FV/r,r=(1<<
this.F1)/r,g=1<<this.F2,A=h.t,p=A-v,u=null==d?a():d;f.dlShiftTo(p,u);0<=h.compareTo(u)&&(h[h.t++]=1,h.subTo(u,h));b.ONE.dlShiftTo(v,u);for(u.subTo(f,f);f.t<v;)f[f.t++]=0;for(;0<=--p;){var m=h[--A]==q?this.DM:Math.floor(h[A]*n+(h[A-1]+g)*r);if((h[A]+=f.am(0,m,h,p,0,v))<m)for(f.dlShiftTo(p,u),h.subTo(u,h);h[A]<--m;)h.subTo(u,h)}null!=d&&(h.drShiftTo(v,d),k!=e&&b.ZERO.subTo(d,d));h.t=v;h.clamp();0<t&&h.rShiftTo(t,h);0>k&&b.ZERO.subTo(h,h)}}}};b.prototype.invDigit=function(){if(1>this.t)return 0;var b=
this[0];if(0==(b&1))return 0;var a=b&3,a=a*(2-(b&15)*a)&15,a=a*(2-(b&255)*a)&255,a=a*(2-((b&65535)*a&65535))&65535,a=a*(2-b*a%this.DV)%this.DV;return 0<a?this.DV-a:-a};b.prototype.isEven=function(){return 0==(0<this.t?this[0]&1:this.s)};b.prototype.exp=function(e,d){if(4294967295<e||1>e)return b.ONE;var h=a();var v=a();var q=d.convert(this),f=l(e)-1;for(q.copyTo(h);0<=--f;)if(d.sqrTo(h,v),0<(e&1<<f))d.mulTo(v,q,h);else{var k=h;h=v;v=k}return d.revert(h)};b.prototype.toString=function(b){if(0>this.s)return"-"+
this.negate().toString(b);if(16==b)b=4;else if(8==b)b=3;else if(2==b)b=1;else if(32==b)b=5;else if(4==b)b=2;else return this.toRadix(b);var a=(1<<b)-1,h,e=!1,d="",q=this.t,f=this.DB-q*this.DB%b;if(0<q--)for(f<this.DB&&0<(h=this[q]>>f)&&(e=!0,d="0123456789abcdefghijklmnopqrstuvwxyz".charAt(h));0<=q;)f<b?(h=(this[q]&(1<<f)-1)<<b-f,h|=this[--q]>>(f+=this.DB-b)):(h=this[q]>>(f-=b)&a,0>=f&&(f+=this.DB,--q)),0<h&&(e=!0),e&&(d+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(h));return e?d:"0"};b.prototype.negate=
function(){var e=a();b.ZERO.subTo(this,e);return e};b.prototype.abs=function(){return 0>this.s?this.negate():this};b.prototype.compareTo=function(b){var a=this.s-b.s;if(0!=a)return a;var h=this.t,a=h-b.t;if(0!=a)return a;for(;0<=--h;)if(0!=(a=this[h]-b[h]))return a;return 0};b.prototype.bitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+l(this[this.t-1]^this.s&this.DM)};b.prototype.mod=function(e){var d=a();this.abs().divRemTo(e,null,d);0>this.s&&0<d.compareTo(b.ZERO)&&e.subTo(d,d);return d};
b.prototype.modPowInt=function(b,a){a=256>b||a.isEven()?new e(a):new u(a);return this.exp(b,a)};b.ZERO=n(0);b.ONE=n(1);z.prototype.convert=m;z.prototype.revert=m;z.prototype.mulTo=function(b,a,h){b.multiplyTo(a,h)};z.prototype.sqrTo=function(b,a){b.squareTo(a)};E.prototype.convert=function(b){if(0>b.s||b.t>2*this.m.t)return b.mod(this.m);if(0>b.compareTo(this.m))return b;var e=a();b.copyTo(e);this.reduce(e);return e};E.prototype.revert=function(b){return b};E.prototype.reduce=function(b){b.drShiftTo(this.m.t-
1,this.r2);b.t>this.m.t+1&&(b.t=this.m.t+1,b.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>b.compareTo(this.r2);)b.dAddOffset(1,this.m.t+1);for(b.subTo(this.r2,b);0<=b.compareTo(this.m);)b.subTo(this.m,b)};E.prototype.mulTo=function(b,a,h){b.multiplyTo(a,h);this.reduce(h)};E.prototype.sqrTo=function(b,a){b.squareTo(a);this.reduce(a)};var C=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,
113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],F=67108864/C[C.length-1];b.prototype.chunkSize=function(b){return Math.floor(Math.LN2*this.DB/Math.log(b))};b.prototype.toRadix=function(b){null==b&&(b=10);if(0==this.signum()||2>b||36<b)return"0";var e=this.chunkSize(b),e=Math.pow(b,
e),h=n(e),d=a(),f=a(),l="";for(this.divRemTo(h,d,f);0<d.signum();)l=(e+f.intValue()).toString(b).substr(1)+l,d.divRemTo(h,d,f);return f.intValue().toString(b)+l};b.prototype.fromRadix=function(a,e){this.fromInt(0);null==e&&(e=10);for(var h=this.chunkSize(e),d=Math.pow(e,h),f=!1,l=0,r=0,q=0;q<a.length;++q){var n=k(a,q);0>n?"-"==a.charAt(q)&&0==this.signum()&&(f=!0):(r=e*r+n,++l>=h&&(this.dMultiply(d),this.dAddOffset(r,0),r=l=0))}0<l&&(this.dMultiply(Math.pow(e,l)),this.dAddOffset(r,0));f&&b.ZERO.subTo(this,
this)};b.prototype.fromNumber=function(a,e,h){if("number"==typeof e)if(2>a)this.fromInt(1);else for(this.fromNumber(a,h),this.testBit(a-1)||this.bitwiseTo(b.ONE.shiftLeft(a-1),r,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(b.ONE.shiftLeft(a-1),this);else{h=[];var d=a&7;h.length=(a>>3)+1;e.nextBytes(h);h[0]=0<d?h[0]&(1<<d)-1:0;this.fromString(h,256)}};b.prototype.bitwiseTo=function(b,a,h){var e,d=Math.min(b.t,this.t);for(e=
0;e<d;++e)h[e]=a(this[e],b[e]);if(b.t<this.t){var f=b.s&this.DM;for(e=d;e<this.t;++e)h[e]=a(this[e],f);h.t=this.t}else{f=this.s&this.DM;for(e=d;e<b.t;++e)h[e]=a(f,b[e]);h.t=b.t}h.s=a(this.s,b.s);h.clamp()};b.prototype.changeBit=function(a,e){a=b.ONE.shiftLeft(a);this.bitwiseTo(a,e,a);return a};b.prototype.addTo=function(b,a){for(var h=0,e=0,d=Math.min(b.t,this.t);h<d;)e+=this[h]+b[h],a[h++]=e&this.DM,e>>=this.DB;if(b.t<this.t){for(e+=b.s;h<this.t;)e+=this[h],a[h++]=e&this.DM,e>>=this.DB;e+=this.s}else{for(e+=
this.s;h<b.t;)e+=b[h],a[h++]=e&this.DM,e>>=this.DB;e+=b.s}a.s=0>e?-1:0;0<e?a[h++]=e:-1>e&&(a[h++]=this.DV+e);a.t=h;a.clamp()};b.prototype.dMultiply=function(b){this[this.t]=this.am(0,b-1,this,0,0,this.t);++this.t;this.clamp()};b.prototype.dAddOffset=function(b,a){if(0!=b){for(;this.t<=a;)this[this.t++]=0;for(this[a]+=b;this[a]>=this.DV;)this[a]-=this.DV,++a>=this.t&&(this[this.t++]=0),++this[a]}};b.prototype.multiplyLowerTo=function(b,a,h){var e=Math.min(this.t+b.t,a);h.s=0;for(h.t=e;0<e;)h[--e]=
0;var d;for(d=h.t-this.t;e<d;++e)h[e+this.t]=this.am(0,b[e],h,e,0,this.t);for(d=Math.min(b.t,a);e<d;++e)this.am(0,b[e],h,e,0,a-e);h.clamp()};b.prototype.multiplyUpperTo=function(b,a,h){--a;var e=h.t=this.t+b.t-a;for(h.s=0;0<=--e;)h[e]=0;for(e=Math.max(a-this.t,0);e<b.t;++e)h[this.t+e-a]=this.am(a-e,b[e],h,0,0,this.t+e-a);h.clamp();h.drShiftTo(1,h)};b.prototype.modInt=function(b){if(0>=b)return 0;var a=this.DV%b,h=0>this.s?b-1:0;if(0<this.t)if(0==a)h=this[0]%b;else for(var e=this.t-1;0<=e;--e)h=(a*
h+this[e])%b;return h};b.prototype.millerRabin=function(e){var d=this.subtract(b.ONE),h=d.getLowestSetBit();if(0>=h)return!1;var f=d.shiftRight(h);e=e+1>>1;e>C.length&&(e=C.length);for(var l=a(),k=0;k<e;++k){l.fromInt(C[k]);var r=l.modPow(f,this);if(0!=r.compareTo(b.ONE)&&0!=r.compareTo(d)){for(var n=1;n++<h&&0!=r.compareTo(d);)if(r=r.modPowInt(2,this),0==r.compareTo(b.ONE))return!1;if(0!=r.compareTo(d))return!1}}return!0};b.prototype.clone=function(){var b=a();this.copyTo(b);return b};b.prototype.intValue=
function(){if(0>this.s){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]};b.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24};b.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16};b.prototype.signum=function(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this[0]?0:1};b.prototype.toByteArray=function(){var b=this.t,a=[];a[0]=this.s;var h=this.DB-
b*this.DB%8,e,d=0;if(0<b--)for(h<this.DB&&(e=this[b]>>h)!=(this.s&this.DM)>>h&&(a[d++]=e|this.s<<this.DB-h);0<=b;)if(8>h?(e=(this[b]&(1<<h)-1)<<8-h,e|=this[--b]>>(h+=this.DB-8)):(e=this[b]>>(h-=8)&255,0>=h&&(h+=this.DB,--b)),0!=(e&128)&&(e|=-256),0==d&&(this.s&128)!=(e&128)&&++d,0<d||e!=this.s)a[d++]=e;return a};b.prototype.equals=function(b){return 0==this.compareTo(b)};b.prototype.min=function(b){return 0>this.compareTo(b)?this:b};b.prototype.max=function(b){return 0<this.compareTo(b)?this:b};b.prototype.and=
function(b){var e=a();this.bitwiseTo(b,p,e);return e};b.prototype.or=function(b){var e=a();this.bitwiseTo(b,r,e);return e};b.prototype.xor=function(b){var e=a();this.bitwiseTo(b,A,e);return e};b.prototype.andNot=function(b){var e=a();this.bitwiseTo(b,w,e);return e};b.prototype.not=function(){for(var b=a(),e=0;e<this.t;++e)b[e]=this.DM&~this[e];b.t=this.t;b.s=~this.s;return b};b.prototype.shiftLeft=function(b){var e=a();0>b?this.rShiftTo(-b,e):this.lShiftTo(b,e);return e};b.prototype.shiftRight=function(b){var e=
a();0>b?this.lShiftTo(-b,e):this.rShiftTo(b,e);return e};b.prototype.getLowestSetBit=function(){for(var b=0;b<this.t;++b)if(0!=this[b]){var a=b*this.DB,b=this[b];if(0==b)b=-1;else{var h=0;0==(b&65535)&&(b>>=16,h+=16);0==(b&255)&&(b>>=8,h+=8);0==(b&15)&&(b>>=4,h+=4);0==(b&3)&&(b>>=2,h+=2);0==(b&1)&&++h;b=h}return a+b}return 0>this.s?this.t*this.DB:-1};b.prototype.bitCount=function(){for(var b=0,a=this.s&this.DM,h=0;h<this.t;++h){for(var e=this[h]^a,d=0;0!=e;)e&=e-1,++d;b+=d}return b};b.prototype.testBit=
function(b){var a=Math.floor(b/this.DB);return a>=this.t?0!=this.s:0!=(this[a]&1<<b%this.DB)};b.prototype.setBit=function(b){return this.changeBit(b,r)};b.prototype.clearBit=function(b){return this.changeBit(b,w)};b.prototype.flipBit=function(b){return this.changeBit(b,A)};b.prototype.add=function(b){var e=a();this.addTo(b,e);return e};b.prototype.subtract=function(b){var e=a();this.subTo(b,e);return e};b.prototype.multiply=function(b){var e=a();this.multiplyTo(b,e);return e};b.prototype.divide=function(b){var e=
a();this.divRemTo(b,e,null);return e};b.prototype.remainder=function(b){var e=a();this.divRemTo(b,null,e);return e};b.prototype.divideAndRemainder=function(b){var e=a(),h=a();this.divRemTo(b,e,h);return[e,h]};b.prototype.modPow=function(b,d){var h=b.bitLength(),f=n(1);if(0>=h)return f;var k=18>h?1:48>h?3:144>h?4:768>h?5:6;d=8>h?new e(d):d.isEven()?new E(d):new u(d);var r=[],g=3,A=k-1,p=(1<<k)-1;r[1]=d.convert(this);if(1<k)for(h=a(),d.sqrTo(r[1],h);g<=p;)r[g]=a(),d.mulTo(h,r[g-2],r[g]),g+=2;for(var m=
b.t-1,q,z=!0,w=a(),h=l(b[m])-1;0<=m;){h>=A?q=b[m]>>h-A&p:(q=(b[m]&(1<<h+1)-1)<<A-h,0<m&&(q|=b[m-1]>>this.DB+h-A));for(g=k;0==(q&1);)q>>=1,--g;0>(h-=g)&&(h+=this.DB,--m);if(z)r[q].copyTo(f),z=!1;else{for(;1<g;)d.sqrTo(f,w),d.sqrTo(w,f),g-=2;0<g?d.sqrTo(f,w):(g=f,f=w,w=g);d.mulTo(w,r[q],f)}for(;0<=m&&0==(b[m]&1<<h);)d.sqrTo(f,w),g=f,f=w,w=g,0>--h&&(h=this.DB-1,--m)}return d.revert(f)};b.prototype.modInverse=function(a){var e=a.isEven();if(this.isEven()&&e||0==a.signum())return b.ZERO;for(var h=a.clone(),
d=this.clone(),f=n(1),l=n(0),r=n(0),k=n(1);0!=h.signum();){for(;h.isEven();)h.rShiftTo(1,h),e?(f.isEven()&&l.isEven()||(f.addTo(this,f),l.subTo(a,l)),f.rShiftTo(1,f)):l.isEven()||l.subTo(a,l),l.rShiftTo(1,l);for(;d.isEven();)d.rShiftTo(1,d),e?(r.isEven()&&k.isEven()||(r.addTo(this,r),k.subTo(a,k)),r.rShiftTo(1,r)):k.isEven()||k.subTo(a,k),k.rShiftTo(1,k);0<=h.compareTo(d)?(h.subTo(d,h),e&&f.subTo(r,f),l.subTo(k,l)):(d.subTo(h,d),e&&r.subTo(f,r),k.subTo(l,k))}if(0!=d.compareTo(b.ONE))return b.ZERO;
if(0<=k.compareTo(a))return k.subtract(a);if(0>k.signum())k.addTo(a,k);else return k;return 0>k.signum()?k.add(a):k};b.prototype.pow=function(b){return this.exp(b,new z)};b.prototype.gcd=function(b){var a=0>this.s?this.negate():this.clone();b=0>b.s?b.negate():b.clone();if(0>a.compareTo(b)){var e=a;a=b;b=e}e=a.getLowestSetBit();var d=b.getLowestSetBit();if(0>d)return a;e<d&&(d=e);for(0<d&&(a.rShiftTo(d,a),b.rShiftTo(d,b));0<a.signum();)0<(e=a.getLowestSetBit())&&a.rShiftTo(e,a),0<(e=b.getLowestSetBit())&&
b.rShiftTo(e,b),0<=a.compareTo(b)?(a.subTo(b,a),a.rShiftTo(1,a)):(b.subTo(a,b),b.rShiftTo(1,b));0<d&&b.lShiftTo(d,b);return b};b.prototype.isProbablePrime=function(b){var a,e=this.abs();if(1==e.t&&e[0]<=C[C.length-1]){for(a=0;a<C.length;++a)if(e[0]==C[a])return!0;return!1}if(e.isEven())return!1;for(a=1;a<C.length;){for(var d=C[a],f=a+1;f<C.length&&d<F;)d*=C[f++];for(d=e.modInt(d);a<f;)if(0==d%C[a++])return!1}return e.millerRabin(b)};return{BigInteger:b}}(),BigInteger=BigInteger.BigInteger;var struct={pack:function(b,a){var f="";switch(b){case "Q":b=new BigInteger("ff",16);f+=String.fromCharCode(a.shiftRight(56).and(b));f+=String.fromCharCode(a.shiftRight(48).and(b));f+=String.fromCharCode(a.shiftRight(40).and(b));f+=String.fromCharCode(a.shiftRight(32).and(b));f+=String.fromCharCode(a.shiftRight(24).and(b));f+=String.fromCharCode(a.shiftRight(16).and(b));f+=String.fromCharCode(a.shiftRight(8).and(b));f+=String.fromCharCode(a.and(b));break;case "I":f+=String.fromCharCode(a>>>24&255),
f+=String.fromCharCode(a>>>16&255),f+=String.fromCharCode(a>>>8&255);case "B":f+=String.fromCharCode(a&255)}return f},unpack:function(b,a){var f=[],g=0,d=0;switch(b){case "Q":d=new BigInteger("0",10);d=d.add((new BigInteger(a.charCodeAt(0).toString(),10)).shiftLeft(56));d=d.add((new BigInteger(a.charCodeAt(1).toString(),10)).shiftLeft(48));d=d.add((new BigInteger(a.charCodeAt(2).toString(),10)).shiftLeft(40));d=d.add((new BigInteger(a.charCodeAt(3).toString(),10)).shiftLeft(32));d=d.add((new BigInteger(a.charCodeAt(4).toString(),
10)).shiftLeft(24));d=d.add((new BigInteger(a.charCodeAt(5).toString(),10)).shiftLeft(16));d=d.add((new BigInteger(a.charCodeAt(6).toString(),10)).shiftLeft(8));d=d.add((new BigInteger(a.charCodeAt(7).toString(),10)).shiftLeft(0));f.push(d);break;case "I":d+=a.charCodeAt(0)<<24>>>0,d+=a.charCodeAt(1)<<16>>>0,d+=a.charCodeAt(2)<<8>>>0,g+=3;case "B":d+=a.charCodeAt(0+g)<<0>>>0,f.push(d)}return f}};function inflate_long(b){var a=new BigInteger("0",10);b.length%4&&(b=Array(4-b.length%4+1).join("\x00")+b);for(var f=0;f<b.length;f+=4)a=a.shiftLeft(32),a=a.add(new BigInteger(struct.unpack("I",b.substring(f,f+4))[0].toString(),10));return a}
function deflate_long(b,a){b="number"==typeof b?new BigInteger(b.toString(),10):b.clone();a=void 0==a?!0:a;for(var f="",g=new BigInteger("-1",10),d=new BigInteger("ffffffff",16);!b.equals(BigInteger.ZERO)&&!b.equals(g);)f=struct.pack("I",b.and(d))+f,b=b.shiftRight(32);for(var d=!1,k=0;k<f.length;++k){if(b.equals(BigInteger.ZERO)&&"\x00"!=f.charAt(k)){d=!0;break}if(b.equals(g)&&"\u00ff"!=f.charAt(k)){d=!0;break}}d||(k=0,f=b.equals(BigInteger.ZERO)?"\x00":"\u00ff");f=f.substring(k);a&&(b.equals(BigInteger.ZERO)&&
128<=f.charCodeAt(0)&&(f="\x00"+f),b.equals(g)&&128>f.charCodeAt(0)&&(f="\u00ff"+f));return f}function toByteArray(b){for(var a=new Uint8Array(b.length),f=0;f<b.length;f++)a[f]=b.charCodeAt(f);return a}function fromByteArray(b){return String.fromCharCode.apply(null,new Uint8Array(b))}function bytesToWords(b){for(var a=[],f=0,g=0;f<b.length;f++,g+=8)a[g>>>5]|=(b[f]&255)<<24-g%32;return a}function wordsToBytes(b){for(var a=[],f=0;f<32*b.length;f+=8)a.push(b[f>>>5]>>>24-f%32&255);return a}
function setCharAt(b,a,f){return b.substr(0,a)+f+b.substr(a+1)}function fromUtf8(b){for(var a,f=[],g=toByteArray(b),d=0;d<b.length;d++){var k=b.charCodeAt(d);if(192<=k&&223>=k)a=g[++d],k=(k&31)<<6|a&63;else if(224<=k&&239>=k){a=g[++d];var n=g[++d],k=(k&15)<<12|(a&63)<<6|n&63}else 128<=k&&(k=".");f.push(String.fromCharCode(k))}return f.join("")}function read_rng(b){return String.fromCharCode.apply(null,window.crypto.getRandomValues(new Uint8Array(b)))}
function filter(b,a){b=b.split(",");for(var f=0;f<b.length;++f)if(-1!=a.indexOf(b[f]))return b[f]}function splitSlice(b,a){a=void 0===a?5E3:a;for(var f=[],g=0,d=b.length;g<d;g+=a)f.push(b.slice(g,a+g));return f}function modColorPercent(b,a){var f=parseInt(b.slice(1),16);b=0>a?0:255;a=0>a?-1*a:a;var g=f>>16,d=f>>8&255,f=f&255;return"#"+(16777216+65536*(Math.round((b-g)*a)+g)+256*(Math.round((b-d)*a)+d)+(Math.round((b-f)*a)+f)).toString(16).slice(1)};sjcl={cipher:{}};
sjcl.cipher.aes=function(b,a){this._tables[0][0][0]||this._precompute();this.mode=a;var f,g,d=this._tables[0][4],k=this._tables[1];a=b.length;var n=1;if(4!==a&&6!==a&&8!==a)throw"invalid aes key size";this._key=[f=b.slice(0),g=[]];for(b=a;b<4*a+28;b++){var l=f[b-1];if(0===b%a||8===a&&4===b%a)l=d[l>>>24]<<24^d[l>>16&255]<<16^d[l>>8&255]<<8^d[l&255],0===b%a&&(l=l<<8^l>>>24^n<<24,n=n<<1^283*(n>>7));f[b]=f[b-a]^l}for(a=0;b;a++,b--)l=f[a&3?b:b-4],g[a]=4>=b||4>a?l:k[0][d[l>>>24]]^k[1][d[l>>16&255]]^k[2][d[l>>
8&255]]^k[3][d[l&255]]};sjcl.cipher.aes.MODE_CBC=2;sjcl.cipher.aes.MODE_CTR=6;
sjcl.cipher.aes.prototype={encrypt:function(b,a,f){a=this.mode==sjcl.cipher.aes.MODE_CBC?a:[];for(var g=[],d=0;d<b.length/16;d++){var k=b.slice(16*d,16*(d+1));if(this.mode==sjcl.cipher.aes.MODE_CBC){for(var n=0;16>n;n++)k[n]^=a[n];a=sjcl.codec.bytes.fromBits(this._crypt(sjcl.codec.bytes.toBits(k),0))}else for(a=sjcl.codec.bytes.fromBits(this._crypt(sjcl.codec.bytes.toBits(toByteArray(f.increment())),0)),n=0;16>n;n++)a[n]^=k[n];g=g.concat(a)}return g},decrypt:function(b,a){for(var f=[],g=0;g<b.length/
16;g++){var d=b.slice(16*g,16*(g+1));ct=sjcl.codec.bytes.fromBits(this._crypt(sjcl.codec.bytes.toBits(d),1));if(this.mode==sjcl.cipher.aes.MODE_CBC){for(var k=0;16>k;k++)ct[k]^=a[k];a=d}f=f.concat(ct)}return f},_tables:[[[],[],[],[],[]],[[],[],[],[],[]]],_precompute:function(){var b=this._tables[0],a=this._tables[1],f=b[4],g=a[4],d,k,n,l=[],e=[],u;for(d=0;256>d;d++)e[(l[d]=d<<1^283*(d>>7))^d]=d;for(k=n=0;!f[k];k^=u||1,n=e[n]||1){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>8^p&255^99;f[k]=p;g[p]=k;var r=l[d=
l[u=l[k]]];var A=16843009*r^65537*d^257*u^16843008*k;r=257*l[p]^16843008*p;for(d=0;4>d;d++)b[d][k]=r=r<<24^r>>>8,a[d][p]=A=A<<24^A>>>8}for(d=0;5>d;d++)b[d]=b[d].slice(0),a[d]=a[d].slice(0)},_crypt:function(b,a){if(4!==b.length)throw"invalid aes block size";var f=this._key[a],g=b[0]^f[0],d=b[a?3:1]^f[1],k=b[2]^f[2];b=b[a?1:3]^f[3];var n=f.length/4-2,l,e=4,u=[0,0,0,0];var p=this._tables[a];var r=p[0],A=p[1],w=p[2],z=p[3],m=p[4];for(l=0;l<n;l++){p=r[g>>>24]^A[d>>16&255]^w[k>>8&255]^z[b&255]^f[e];var E=
r[d>>>24]^A[k>>16&255]^w[b>>8&255]^z[g&255]^f[e+1];var y=r[k>>>24]^A[b>>16&255]^w[g>>8&255]^z[d&255]^f[e+2];b=r[b>>>24]^A[g>>16&255]^w[d>>8&255]^z[k&255]^f[e+3];e+=4;g=p;d=E;k=y}for(l=0;4>l;l++)u[a?3&-l:l]=m[g>>>24]<<24^m[d>>16&255]<<16^m[k>>8&255]<<8^m[b&255]^f[e++],p=g,g=d,d=k,k=b,b=p;return u}};sjcl.codec={};
sjcl.codec.bytes={fromBits:function(b){var a=[],f=sjcl.bitArray.bitLength(b),g,d;for(g=0;g<f/8;g++)0===(g&3)&&(d=b[g/4]),a.push(d>>>24),d<<=8;return a},toBits:function(b){var a=[],f,g=0;for(f=0;f<b.length;f++)g=g<<8|b[f],3===(f&3)&&(a.push(g),g=0);f&3&&a.push(sjcl.bitArray.partial(8*(f&3),g));return a}};
sjcl.bitArray={bitLength:function(b){var a=b.length;return 0===a?0:32*(a-1)+sjcl.bitArray.getPartial(b[a-1])},partial:function(b,a,f){return 32===b?a:(f?a|0:a<<32-b)+1099511627776*b},getPartial:function(b){return Math.round(b/1099511627776)||32}};SSHyClient.hash={};SSHyClient.hash.SHA1=function(b){this.data=b||"";this.digest_size=20};
SSHyClient.hash.SHA1.prototype={digest:function(){var b=toByteArray(this.data),a=bytesToWords(b),f=8*b.length,b=[],g=1732584193,d=-271733879,k=-1732584194,n=271733878,l=-1009589776;a[f>>5]|=128<<24-f%32;a[(f+64>>>9<<4)+15]=f;for(f=0;f<a.length;f+=16){for(var e=g,u=d,p=k,r=n,A=l,w=0;80>w;w++){if(16>w)b[w]=a[f+w];else{var z=b[w-3]^b[w-8]^b[w-14]^b[w-16];b[w]=z<<1|z>>>31}z=(g<<5|g>>>27)+l+(b[w]>>>0)+(20>w?(d&k|~d&n)+1518500249:40>w?(d^k^n)+1859775393:60>w?(d&k|d&n|k&n)-1894007588:(d^k^n)-899497514);
l=n;n=k;k=d<<30|d>>>2;d=g;g=z}g+=e;d+=u;k+=p;n+=r;l+=A}return fromByteArray(wordsToBytes([g,d,k,n,l]))}};SSHyClient.hash.SHA256=function(b){this.data=b||"";this.digest_size=32};
SSHyClient.hash.SHA256.prototype={digest:function(){var b=toByteArray(this.data),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,
2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=bytesToWords(b),g=8*b.length,b=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],d=[],k,n;f[g>>5]|=128<<24-g%32;f[(g+64>>9<<4)+15]=g;for(k=0;k<f.length;k+=16){g=b[0];var l=b[1];var e=b[2];var u=
b[3];var p=b[4];var r=b[5];var A=b[6];var w=b[7];for(n=0;64>n;n++){if(16>n)d[n]=f[n+k];else{var z=d[n-15];var m=d[n-2];d[n]=((z<<25|z>>>7)^(z<<14|z>>>18)^z>>>3)+(d[n-7]>>>0)+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+(d[n-16]>>>0)}m=g&l^g&e^l&e;var E=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22);z=(w>>>0)+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+(p&r^~p&A)+a[n]+(d[n]>>>0);m=E+m;w=A;A=r;r=p;p=u+z>>>0;u=e;e=l;l=g;g=z+m>>>0}b[0]+=g;b[1]+=l;b[2]+=e;b[3]+=u;b[4]+=p;b[5]+=r;b[6]+=A;b[7]+=w}return fromByteArray(wordsToBytes(b))}};
SSHyClient.hash.HMAC=function(b,a,f){f=digestmod="SHA-1"==f?SSHyClient.hash.SHA1:SSHyClient.hash.SHA256;var g=new f,d=new f;64<b.length&&(b=(new f(b)).digest());b+=Array(64-b.length+1).join("\x00");f=toByteArray(b).slice(0);b=toByteArray(b).slice(0);for(var k=0;64>k;++k)f[k]^=92,b[k]^=54;g.data+=fromByteArray(f);d.data+=fromByteArray(b);d.data+=a;g.data+=d.digest();return g.digest()};(function(b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).Terminal=b()})(function(){return function a(f,g,d){function k(e,l){if(!g[e]){if(!f[e]){var p="function"==typeof require&&require;if(!l&&p)return p(e,!0);if(n)return n(e,!0);l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l;}l=g[e]={exports:{}};
f[e][0].call(l.exports,function(a){var d=f[e][1][a];return k(d?d:a)},l,l.exports,a,f,g,d)}return g[e].exports}for(var n="function"==typeof require&&require,l=0;l<d.length;l++)k(d[l]);return k}({1:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});g.CHARSETS={};g.DEFAULT_CHARSET=g.CHARSETS.B;g.CHARSETS["0"]={"`":"\u25c6",a:"\u2592",b:"\t",c:"\f",d:"\r",e:"\n",f:"\u00b0",g:"\u00b1",h:"\u2424",i:"\x0B",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",
r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\u00a3","~":"\u00b7"};g.CHARSETS.A={"#":"\u00a3"};g.CHARSETS.B=null;g.CHARSETS["4"]={"#":"\u00a3","@":"\u00be","[":"ij","\\":"\u00bd","]":"|","{":"\u00a8","|":"f","}":"\u00bc","~":"\u00b4"};g.CHARSETS.C=g.CHARSETS["5"]={"[":"\u00c4","\\":"\u00d6","]":"\u00c5","^":"\u00dc","`":"\u00e9","{":"\u00e4","|":"\u00f6","}":"\u00e5","~":"\u00fc"};g.CHARSETS.R={"#":"\u00a3","@":"\u00e0",
"[":"\u00b0","\\":"\u00e7","]":"\u00a7","{":"\u00e9","|":"\u00f9","}":"\u00e8","~":"\u00a8"};g.CHARSETS.Q={"@":"\u00e0","[":"\u00e2","\\":"\u00e7","]":"\u00ea","^":"\u00ee","`":"\u00f4","{":"\u00e9","|":"\u00f9","}":"\u00e8","~":"\u00fb"};g.CHARSETS.K={"@":"\u00a7","[":"\u00c4","\\":"\u00d6","]":"\u00dc","{":"\u00e4","|":"\u00f6","}":"\u00fc","~":"\u00df"};g.CHARSETS.Y={"#":"\u00a3","@":"\u00a7","[":"\u00b0","\\":"\u00e7","]":"\u00e9","`":"\u00f9","{":"\u00e0","|":"\u00f2","}":"\u00e8","~":"\u00ec"};
g.CHARSETS.E=g.CHARSETS["6"]={"@":"\u00c4","[":"\u00c6","\\":"\u00d8","]":"\u00c5","^":"\u00dc","`":"\u00e4","{":"\u00e6","|":"\u00f8","}":"\u00e5","~":"\u00fc"};g.CHARSETS.Z={"#":"\u00a3","@":"\u00a7","[":"\u00a1","\\":"\u00d1","]":"\u00bf","{":"\u00b0","|":"\u00f1","}":"\u00e7"};g.CHARSETS.H=g.CHARSETS["7"]={"@":"\u00c9","[":"\u00c4","\\":"\u00d6","]":"\u00c5","^":"\u00dc","`":"\u00e9","{":"\u00e4","|":"\u00f6","}":"\u00e5","~":"\u00fc"};g.CHARSETS["="]={"#":"\u00f9","@":"\u00e0","[":"\u00e9","\\":"\u00e7",
"]":"\u00ea","^":"\u00ee",_:"\u00e8","`":"\u00f4","{":"\u00e4","|":"\u00f6","}":"\u00fc","~":"\u00fb"}},{}],2:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});a=function(){function a(a,d,f){this.textarea=a;this.compositionView=d;this.terminal=f;this.isSendingComposition=this.isComposing=!1;this.compositionPosition={start:null,end:null}}a.prototype.compositionstart=function(){this.isComposing=!0;this.compositionPosition.start=this.textarea.value.length;this.compositionView.textContent=
"";this.compositionView.classList.add("active")};a.prototype.compositionupdate=function(a){var d=this;this.compositionView.textContent=a.data;this.updateCompositionElements();setTimeout(function(){d.compositionPosition.end=d.textarea.value.length},0)};a.prototype.compositionend=function(){this.finalizeComposition(!0)};a.prototype.keydown=function(a){if(this.isComposing||this.isSendingComposition){if(229===a.keyCode||16===a.keyCode||17===a.keyCode||18===a.keyCode)return!1;this.finalizeComposition(!1)}return 229===
a.keyCode?(this.handleAnyTextareaChanges(),!1):!0};a.prototype.finalizeComposition=function(a){var d=this;this.compositionView.classList.remove("active");this.isComposing=!1;this.clearTextareaPosition();if(a){var f=this.compositionPosition.start,e=this.compositionPosition.end;this.isSendingComposition=!0;setTimeout(function(){if(d.isSendingComposition){d.isSendingComposition=!1;var a=d.isComposing?d.textarea.value.substring(f,e):d.textarea.value.substring(f);d.terminal.handler(a)}},0)}else this.isSendingComposition=
!1,a=this.textarea.value.substring(this.compositionPosition.start,this.compositionPosition.end),this.terminal.handler(a)};a.prototype.handleAnyTextareaChanges=function(){var a=this,d=this.textarea.value;setTimeout(function(){if(!a.isComposing){var f=a.textarea.value.replace(d,"");0<f.length&&a.terminal.handler(f)}},0)};a.prototype.updateCompositionElements=function(a){var d=this;if(this.isComposing){var f=this.terminal.element.querySelector(".terminal-cursor");if(f){var e=this.terminal.element.querySelector(".xterm-rows").offsetTop+
f.offsetTop;this.compositionView.style.left=f.offsetLeft+"px";this.compositionView.style.top=e+"px";this.compositionView.style.height=f.offsetHeight+"px";this.compositionView.style.lineHeight=f.offsetHeight+"px";var k=this.compositionView.getBoundingClientRect();this.textarea.style.left=f.offsetLeft+"px";this.textarea.style.top=e+"px";this.textarea.style.width=k.width+"px";this.textarea.style.height=k.height+"px";this.textarea.style.lineHeight=k.height+"px"}a||setTimeout(function(){return d.updateCompositionElements(!0)},
0)}};a.prototype.clearTextareaPosition=function(){this.textarea.style.left="";this.textarea.style.top=""};return a}();g.CompositionHelper=a},{}],3:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});a=g.C0||(g.C0={});a.NUL="\x00";a.SOH="\u0001";a.STX="\u0002";a.ETX="\u0003";a.EOT="\u0004";a.ENQ="\u0005";a.ACK="\u0006";a.BEL="\u0007";a.BS="\b";a.HT="\t";a.LF="\n";a.VT="\x0B";a.FF="\f";a.CR="\r";a.SO="\u000e";a.SI="\u000f";a.DLE="\u0010";a.DC1="\u0011";a.DC2="\u0012";a.DC3="\u0013";a.DC4=
"\u0014";a.NAK="\u0015";a.SYN="\u0016";a.ETB="\u0017";a.CAN="\u0018";a.EM="\u0019";a.SUB="\u001a";a.ESC="\u001b";a.FS="\u001c";a.GS="\u001d";a.RS="\u001e";a.US="\u001f";a.SP=" ";a.DEL="\u007f"},{}],4:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});a=function(){function a(){this._events=this._events||{}}a.prototype.on=function(a,d){this._events[a]=this._events[a]||[];this._events[a].push(d)};a.prototype.off=function(a,d){if(this._events[a]){a=this._events[a];for(var f=a.length;f--;)if(a[f]===
d||a[f].listener===d){a.splice(f,1);break}}};a.prototype.removeAllListeners=function(a){this._events[a]&&delete this._events[a]};a.prototype.once=function(a,d){function f(){var e=Array.prototype.slice.call(arguments);this.off(a,f);return d.apply(this,e)}f.listener=d;return this.on(a,f)};a.prototype.emit=function(a){for(var d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];if(this._events[a])for(var f=this._events[a],e=0;e<f.length;e++)f[e].apply(this,d)};a.prototype.listeners=function(a){return this._events[a]||
[]};return a}();g.EventEmitter=a},{}],5:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});var d=a("./EscapeSequences"),k=a("./Charsets");a=function(){function a(a){this._terminal=a}a.prototype.addChar=function(a,d){if(" "<=a){d=n(d);this._terminal.charset&&this._terminal.charset[a]&&(a=this._terminal.charset[a]);var e=this._terminal.y+this._terminal.ybase;if(!d&&this._terminal.x)this._terminal.lines.get(e)[this._terminal.x-1]&&(this._terminal.lines.get(e)[this._terminal.x-1][2]?this._terminal.lines.get(e)[this._terminal.x-
1][1]+=a:this._terminal.lines.get(e)[this._terminal.x-2]&&(this._terminal.lines.get(e)[this._terminal.x-2][1]+=a),this._terminal.updateRange(this._terminal.y));else{if(this._terminal.x+d-1>=this._terminal.cols)if(this._terminal.wraparoundMode)this._terminal.x=0,this._terminal.y++,this._terminal.y>this._terminal.scrollBottom&&(this._terminal.y--,this._terminal.scroll());else if(2===d)return;e=this._terminal.y+this._terminal.ybase;if(this._terminal.insertMode)for(var f=0;f<d;++f)0===this._terminal.lines.get(this._terminal.y+
this._terminal.ybase).pop()[2]&&this._terminal.lines.get(e)[this._terminal.cols-2]&&2===this._terminal.lines.get(e)[this._terminal.cols-2][2]&&(this._terminal.lines.get(e)[this._terminal.cols-2]=[this._terminal.curAttr," ",1]),this._terminal.lines.get(e).splice(this._terminal.x,0,[this._terminal.curAttr," ",1]);this._terminal.lines.get(e)[this._terminal.x]=[this._terminal.curAttr,a,d];this._terminal.x++;this._terminal.updateRange(this._terminal.y);2===d&&(this._terminal.lines.get(e)[this._terminal.x]=
[this._terminal.curAttr,"",0],this._terminal.x++)}}};a.prototype.bell=function(){var a=this;this._terminal.visualBell&&(this._terminal.element.style.borderColor="white",setTimeout(function(){return a._terminal.element.style.borderColor=""},10),this._terminal.popOnBell&&this._terminal.focus())};a.prototype.lineFeed=function(){this._terminal.convertEol&&(this._terminal.x=0);this._terminal.y++;this._terminal.y>this._terminal.scrollBottom&&(this._terminal.y--,this._terminal.scroll());this._terminal.x>=
this._terminal.cols&&this._terminal.x--};a.prototype.carriageReturn=function(){this._terminal.x=0};a.prototype.backspace=function(){0<this._terminal.x&&this._terminal.x--};a.prototype.tab=function(){this._terminal.x=this._terminal.nextStop()};a.prototype.shiftOut=function(){this._terminal.setgLevel(1)};a.prototype.shiftIn=function(){this._terminal.setgLevel(0)};a.prototype.insertChars=function(a){var e;a=a[0];1>a&&(a=1);var d=this._terminal.y+this._terminal.ybase;var f=this._terminal.x;for(e=[this._terminal.eraseAttr(),
" ",1];a--&&f<this._terminal.cols;)this._terminal.lines.get(d).splice(f++,0,e),this._terminal.lines.get(d).pop()};a.prototype.cursorUp=function(a){a=a[0];1>a&&(a=1);this._terminal.y-=a;0>this._terminal.y&&(this._terminal.y=0)};a.prototype.cursorDown=function(a){a=a[0];1>a&&(a=1);this._terminal.y+=a;this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1);this._terminal.x>=this._terminal.cols&&this._terminal.x--};a.prototype.cursorForward=function(a){a=a[0];1>a&&(a=1);this._terminal.x+=
a;this._terminal.x>=this._terminal.cols&&(this._terminal.x=this._terminal.cols-1)};a.prototype.cursorBackward=function(a){a=a[0];1>a&&(a=1);this._terminal.x>=this._terminal.cols&&this._terminal.x--;this._terminal.x-=a;0>this._terminal.x&&(this._terminal.x=0)};a.prototype.cursorNextLine=function(a){a=a[0];1>a&&(a=1);this._terminal.y+=a;this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1);this._terminal.x=0};a.prototype.cursorPrecedingLine=function(a){a=a[0];1>a&&(a=1);this._terminal.y-=
a;0>this._terminal.y&&(this._terminal.y=0);this._terminal.x=0};a.prototype.cursorCharAbsolute=function(a){a=a[0];1>a&&(a=1);this._terminal.x=a-1};a.prototype.cursorPosition=function(a){var e=a[0]-1;a=2<=a.length?a[1]-1:0;0>e?e=0:e>=this._terminal.rows&&(e=this._terminal.rows-1);0>a?a=0:a>=this._terminal.cols&&(a=this._terminal.cols-1);this._terminal.x=a;this._terminal.y=e};a.prototype.cursorForwardTab=function(a){for(a=a[0]||1;a--;)this._terminal.x=this._terminal.nextStop()};a.prototype.eraseInDisplay=
function(a){switch(a[0]){case 0:this._terminal.eraseRight(this._terminal.x,this._terminal.y);for(a=this._terminal.y+1;a<this._terminal.rows;a++)this._terminal.eraseLine(a);break;case 1:this._terminal.eraseLeft(this._terminal.x,this._terminal.y);for(a=this._terminal.y;a--;)this._terminal.eraseLine(a);break;case 2:for(a=this._terminal.rows;a--;)this._terminal.eraseLine(a);break;case 3:a=this._terminal.lines.length-this._terminal.rows,0<a&&(this._terminal.lines.trimStart(a),this._terminal.ybase=Math.max(this._terminal.ybase-
a,0),this._terminal.ydisp=Math.max(this._terminal.ydisp-a,0))}};a.prototype.eraseInLine=function(a){switch(a[0]){case 0:this._terminal.eraseRight(this._terminal.x,this._terminal.y);break;case 1:this._terminal.eraseLeft(this._terminal.x,this._terminal.y);break;case 2:this._terminal.eraseLine(this._terminal.y)}};a.prototype.insertLines=function(a){a=a[0];1>a&&(a=1);var e=this._terminal.y+this._terminal.ybase;var d=this._terminal.rows-1-this._terminal.scrollBottom;for(d=this._terminal.rows-1+this._terminal.ybase-
d+1;a--;)this._terminal.lines.length===this._terminal.lines.maxLength&&(this._terminal.lines.trimStart(1),this._terminal.ybase--,this._terminal.ydisp--,e--,d--),this._terminal.lines.splice(e,0,this._terminal.blankLine(!0)),this._terminal.lines.splice(d,1);this._terminal.updateRange(this._terminal.y);this._terminal.updateRange(this._terminal.scrollBottom)};a.prototype.deleteLines=function(a){a=a[0];1>a&&(a=1);var e=this._terminal.y+this._terminal.ybase;var d=this._terminal.rows-1-this._terminal.scrollBottom;
for(d=this._terminal.rows-1+this._terminal.ybase-d;a--;)this._terminal.lines.length===this._terminal.lines.maxLength&&(this._terminal.lines.trimStart(1),--this._terminal.ybase,--this._terminal.ydisp),this._terminal.lines.splice(d+1,0,this._terminal.blankLine(!0)),this._terminal.lines.splice(e,1);this._terminal.updateRange(this._terminal.y);this._terminal.updateRange(this._terminal.scrollBottom)};a.prototype.deleteChars=function(a){var e;a=a[0];1>a&&(a=1);var d=this._terminal.y+this._terminal.ybase;
for(e=[this._terminal.eraseAttr()," ",1];a--;)this._terminal.lines.get(d).splice(this._terminal.x,1),this._terminal.lines.get(d).push(e)};a.prototype.scrollUp=function(a){for(a=a[0]||1;a--;)this._terminal.lines.splice(this._terminal.ybase+this._terminal.scrollTop,1),this._terminal.lines.splice(this._terminal.ybase+this._terminal.scrollBottom,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.scrollTop);this._terminal.updateRange(this._terminal.scrollBottom)};a.prototype.scrollDown=
function(a){for(a=a[0]||1;a--;)this._terminal.lines.splice(this._terminal.ybase+this._terminal.scrollBottom,1),this._terminal.lines.splice(this._terminal.ybase+this._terminal.scrollTop,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.scrollTop);this._terminal.updateRange(this._terminal.scrollBottom)};a.prototype.eraseChars=function(a){var e;a=a[0];1>a&&(a=1);var d=this._terminal.y+this._terminal.ybase;var f=this._terminal.x;for(e=[this._terminal.eraseAttr()," ",1];a--&&f<this._terminal.cols;)this._terminal.lines.get(d)[f++]=
e};a.prototype.cursorBackwardTab=function(a){for(a=a[0]||1;a--;)this._terminal.x=this._terminal.prevStop()};a.prototype.charPosAbsolute=function(a){a=a[0];1>a&&(a=1);this._terminal.x=a-1;this._terminal.x>=this._terminal.cols&&(this._terminal.x=this._terminal.cols-1)};a.prototype.HPositionRelative=function(a){a=a[0];1>a&&(a=1);this._terminal.x+=a;this._terminal.x>=this._terminal.cols&&(this._terminal.x=this._terminal.cols-1)};a.prototype.repeatPrecedingCharacter=function(a){a=a[0]||1;for(var e=this._terminal.lines.get(this._terminal.ybase+
this._terminal.y),d=e[this._terminal.x-1]||[this._terminal.defAttr," ",1];a--;)e[this._terminal.x++]=d};a.prototype.sendDeviceAttributes=function(a){0<a[0]||(this._terminal.prefix?">"===this._terminal.prefix&&(this._terminal.is("xterm")?this._terminal.send(d.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.send(d.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.send(a[0]+"c"):this._terminal.is("screen")&&this._terminal.send(d.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||
this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.send(d.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.send(d.C0.ESC+"[?6c"))};a.prototype.linePosAbsolute=function(a){a=a[0];1>a&&(a=1);this._terminal.y=a-1;this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1)};a.prototype.VPositionRelative=function(a){a=a[0];1>a&&(a=1);this._terminal.y+=a;this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1);this._terminal.x>=
this._terminal.cols&&this._terminal.x--};a.prototype.HVPosition=function(a){1>a[0]&&(a[0]=1);1>a[1]&&(a[1]=1);this._terminal.y=a[0]-1;this._terminal.y>=this._terminal.rows&&(this._terminal.y=this._terminal.rows-1);this._terminal.x=a[1]-1;this._terminal.x>=this._terminal.cols&&(this._terminal.x=this._terminal.cols-1)};a.prototype.tabClear=function(a){a=a[0];0>=a?delete this._terminal.tabs[this._terminal.x]:3===a&&(this._terminal.tabs={})};a.prototype.setMode=function(a){if(1<a.length)for(var d=0;d<
a.length;d++)this.setMode([a[d]]);else if(!this._terminal.prefix)switch(a[0]){case 4:this._terminal.insertMode=!0}else if("?"===this._terminal.prefix)switch(a[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,k.DEFAULT_CHARSET);this._terminal.setgCharset(1,k.DEFAULT_CHARSET);this._terminal.setgCharset(2,k.DEFAULT_CHARSET);this._terminal.setgCharset(3,k.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols;this._terminal.resize(132,this._terminal.rows);
break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 66:this._terminal.log("Serial port requested application keypad.");this._terminal.applicationKeypad=!0;this._terminal.viewport.syncScrollArea();break;case 9:case 1E3:case 1002:case 1003:this._terminal.x10Mouse=9===a[0];this._terminal.vt200Mouse=1E3===a[0];this._terminal.normalMouse=1E3<a[0];this._terminal.mouseEvents=!0;this._terminal.element.style.cursor="default";this._terminal.log("Binding to mouse events.");
break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1049:case 47:case 1047:this._terminal.normal||(a={lines:this._terminal.lines,ybase:this._terminal.ybase,ydisp:this._terminal.ydisp,x:this._terminal.x,y:this._terminal.y,scrollTop:this._terminal.scrollTop,scrollBottom:this._terminal.scrollBottom,tabs:this._terminal.tabs},
this._terminal.reset(),this._terminal.viewport.syncScrollArea(),this._terminal.normal=a,this._terminal.showCursor())}};a.prototype.resetMode=function(a){if(1<a.length)for(var d=0;d<a.length;d++)this.resetMode([a[d]]);else if(!this._terminal.prefix)switch(a[0]){case 4:this._terminal.insertMode=!1}else if("?"===this._terminal.prefix)switch(a[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,
this._terminal.rows);delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 66:this._terminal.log("Switching back to normal keypad.");this._terminal.applicationKeypad=!1;this._terminal.viewport.syncScrollArea();break;case 9:case 1E3:case 1002:case 1003:this._terminal.x10Mouse=!1;this._terminal.vt200Mouse=!1;this._terminal.normalMouse=!1;this._terminal.mouseEvents=!1;this._terminal.element.style.cursor="";break;case 1004:this._terminal.sendFocus=
!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1049:case 47:case 1047:this._terminal.normal&&(this._terminal.lines=this._terminal.normal.lines,this._terminal.ybase=this._terminal.normal.ybase,this._terminal.ydisp=this._terminal.normal.ydisp,this._terminal.x=this._terminal.normal.x,this._terminal.y=this._terminal.normal.y,this._terminal.scrollTop=this._terminal.normal.scrollTop,
this._terminal.scrollBottom=this._terminal.normal.scrollBottom,this._terminal.tabs=this._terminal.normal.tabs,this._terminal.normal=null,this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor())}};a.prototype.charAttributes=function(a){if(1===a.length&&0===a[0])this._terminal.curAttr=this._terminal.defAttr;else{for(var d=a.length,e=0,f=this._terminal.curAttr>>18,k=this._terminal.curAttr>>9&511,g=this._terminal.curAttr&511,l;e<d;e++)l=a[e],
30<=l&&37>=l?k=l-30:40<=l&&47>=l?g=l-40:90<=l&&97>=l?(l+=8,k=l-90):100<=l&&107>=l?(l+=8,g=l-100):0===l?(f=this._terminal.defAttr>>18,k=this._terminal.defAttr>>9&511,g=this._terminal.defAttr&511):1===l?f|=1:4===l?f|=2:5===l?f|=4:7===l?f|=8:8===l?f|=16:22===l?f&=-2:24===l?f&=-3:25===l?f&=-5:27===l?f&=-9:28===l?f&=-17:39===l?k=this._terminal.defAttr>>9&511:49===l?g=this._terminal.defAttr&511:38===l?2===a[e+1]?(e+=2,k=this._terminal.matchColor(a[e]&255,a[e+1]&255,a[e+2]&255),-1===k&&(k=511),e+=2):5===
a[e+1]&&(e+=2,k=l=a[e]&255):48===l?2===a[e+1]?(e+=2,g=this._terminal.matchColor(a[e]&255,a[e+1]&255,a[e+2]&255),-1===g&&(g=511),e+=2):5===a[e+1]&&(e+=2,g=l=a[e]&255):100===l?(k=this._terminal.defAttr>>9&511,g=this._terminal.defAttr&511):this._terminal.error("Unknown SGR attribute: %d.",l);this._terminal.curAttr=f<<18|k<<9|g}};a.prototype.deviceStatus=function(a){if(!this._terminal.prefix)switch(a[0]){case 5:this._terminal.send(d.C0.ESC+"[0n");break;case 6:this._terminal.send(d.C0.ESC+"["+(this._terminal.y+
1)+";"+(this._terminal.x+1)+"R")}else if("?"===this._terminal.prefix)switch(a[0]){case 6:this._terminal.send(d.C0.ESC+"[?"+(this._terminal.y+1)+";"+(this._terminal.x+1)+"R")}};a.prototype.softReset=function(a){this._terminal.cursorHidden=!1;this._terminal.insertMode=!1;this._terminal.originMode=!1;this._terminal.wraparoundMode=!0;this._terminal.applicationKeypad=!1;this._terminal.viewport.syncScrollArea();this._terminal.applicationCursor=!1;this._terminal.scrollTop=0;this._terminal.scrollBottom=this._terminal.rows-
1;this._terminal.curAttr=this._terminal.defAttr;this._terminal.x=this._terminal.y=0;this._terminal.charset=null;this._terminal.glevel=0;this._terminal.charsets=[null]};a.prototype.setCursorStyle=function(a){a=1>a[0]?1:a[0];switch(a){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}this._terminal.setOption("cursorBlink",1===a%2)};a.prototype.setScrollRegion=
function(a){this._terminal.prefix||(this._terminal.scrollTop=(a[0]||1)-1,this._terminal.scrollBottom=(a[1]&&a[1]<=this._terminal.rows?a[1]:this._terminal.rows)-1,this._terminal.x=0,this._terminal.y=0)};a.prototype.saveCursor=function(a){this._terminal.savedX=this._terminal.x;this._terminal.savedY=this._terminal.y};a.prototype.restoreCursor=function(a){this._terminal.x=this._terminal.savedX||0;this._terminal.y=this._terminal.savedY||0};return a}();g.InputHandler=a;var n=function(a){var d=[[768,879],
[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],
[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],
[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],
[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];return function(e){if(0===e)return a.nul;if(32>e||127<=e&&160>e)return a.control;a:{var f=0;var k=d.length-1;if(!(e<d[0][0]||e>d[k][1]))for(;k>=f;){var l=Math.floor((f+k)/2);if(e>d[l][1])f=l+1;else if(e<d[l][0])k=l-1;else{f=!0;break a}}f=!1}return f?0:4352<=e&&
(4447>=e||9001===e||9002===e||11904<=e&&42191>=e&&12351!==e||44032<=e&&55203>=e||63744<=e&&64255>=e||65040<=e&&65049>=e||65072<=e&&65135>=e||65280<=e&&65376>=e||65504<=e&&65510>=e||131072<=e&&196605>=e||196608<=e&&262141>=e)?2:1}}({nul:0,control:0})},{"./Charsets":1,"./EscapeSequences":3}],6:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});var d=/(?:^|[^\da-z\.-]+)((https?:\/\/)((([\da-z\.-]+)\.([a-z\.]{2,6}))|((\d{1,3}\.){3}\d{1,3})|(localhost))(:\d{1,5})?(\/[\/\w\.\-%~]*)*(\?[0-9\w\[\]\(\)\/\?\!#@$%&'*+,:;~\=\.\-]*)?(#[0-9\w\[\]\(\)\/\?\!#@$%&'*+,:;~\=\.\-]*)?)($|[^\/\w\.\-%]+)/;
a=function(){function a(){this._nextLinkMatcherId=0;this._rowTimeoutIds=[];this._linkMatchers=[];this.registerLinkMatcher(d,null,{matchIndex:1})}a.prototype.attachToDom=function(a,d){this._document=a;this._rows=d};a.prototype.linkifyRow=function(d){if(this._document){var f=this._rowTimeoutIds[d];f&&clearTimeout(f);this._rowTimeoutIds[d]=setTimeout(this._linkifyRow.bind(this,d),a.TIME_BEFORE_LINKIFY)}};a.prototype.setHypertextLinkHandler=function(a){this._linkMatchers[0].handler=a};a.prototype.setHypertextValidationCallback=
function(a){this._linkMatchers[0].validationCallback=a};a.prototype.registerLinkMatcher=function(a,d,e){void 0===e&&(e={});if(0!==this._nextLinkMatcherId&&!d)throw Error("handler must be defined");a={id:this._nextLinkMatcherId++,regex:a,handler:d,matchIndex:e.matchIndex,validationCallback:e.validationCallback,priority:e.priority||0};this._addLinkMatcherToList(a);return a.id};a.prototype._addLinkMatcherToList=function(a){if(0===this._linkMatchers.length)this._linkMatchers.push(a);else{for(var d=this._linkMatchers.length-
1;0<=d;d--)if(a.priority<=this._linkMatchers[d].priority){this._linkMatchers.splice(d+1,0,a);return}this._linkMatchers.splice(0,0,a)}};a.prototype.deregisterLinkMatcher=function(a){for(var d=1;d<this._linkMatchers.length;d++)if(this._linkMatchers[d].id===a)return this._linkMatchers.splice(d,1),!0;return!1};a.prototype._linkifyRow=function(a){if(a=this._rows[a])for(var d=0;d<this._linkMatchers.length;d++){var e=this._linkMatchers[d],f=this._doLinkifyRow(a,e);if(0<f.length){if(e.validationCallback)for(a=
function(a){var d=f[a];e.validationCallback(d.textContent,d,function(a){a||d.classList.add("xterm-invalid-link")})},d=0;d<f.length;d++)a(d);break}}};a.prototype._doLinkifyRow=function(a,d){var e=[],f=0===d.id,k=a.childNodes,g=a.textContent.match(d.regex);if(!g||0===g.length)return e;for(var l=g["number"!==typeof d.matchIndex?0:d.matchIndex],n=g.index+l.length,z=0;z<k.length;z++){var m=k[z],E=m.textContent.indexOf(l);if(0<=E){g=this._createAnchorElement(l,d.handler,f);if(m.textContent.length===l.length)if(3===
m.nodeType)this._replaceNode(m,g);else{l=m;if("A"===l.nodeName)break;l.innerHTML="";l.appendChild(g)}else l=this._replaceNodeSubstringWithNode(m,g,l,E),z+=l;e.push(g);g=a.textContent.substring(n).match(d.regex);if(!g||0===g.length)break;l=g["number"!==typeof d.matchIndex?0:d.matchIndex];n+=g.index+l.length}}return e};a.prototype._createAnchorElement=function(a,d,e){var f=this._document.createElement("a");f.textContent=a;f.draggable=!1;e?(f.href=a,f.target="_blank",f.addEventListener("click",function(e){if(d)return d(e,
a)})):f.addEventListener("click",function(e){if(!f.classList.contains("xterm-invalid-link"))return d(e,a)});return f};a.prototype._replaceNode=function(a){for(var d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];for(var e=a.parentNode,f=0;f<d.length;f++)e.insertBefore(d[f],a);e.removeChild(a)};a.prototype._replaceNodeSubstringWithNode=function(a,d,e,f){var g=a;3!==g.nodeType&&(g=g.childNodes[0]);if(0===g.childNodes.length&&3!==g.nodeType)throw Error("targetNode must be a text node or only contain a single text node");
var k=g.textContent;if(0===f)return e=k.substring(e.length),e=this._document.createTextNode(e),this._replaceNode(g,d,e),0;if(f===a.textContent.length-e.length)return e=k.substring(0,f),e=this._document.createTextNode(e),this._replaceNode(g,e,d),0;a=k.substring(0,f);a=this._document.createTextNode(a);e=k.substring(f+e.length);e=this._document.createTextNode(e);this._replaceNode(g,a,d,e);return 1};return a}();a.TIME_BEFORE_LINKIFY=200;g.Linkifier=a},{}],7:[function(a,f,g){Object.defineProperty(g,"__esModule",
{value:!0});var d=a("./EscapeSequences"),k=a("./Charsets"),n={};n[d.C0.BEL]=function(a,d){return d.bell()};n[d.C0.LF]=function(a,d){return d.lineFeed()};n[d.C0.VT]=n[d.C0.LF];n[d.C0.FF]=n[d.C0.LF];n[d.C0.CR]=function(a,d){return d.carriageReturn()};n[d.C0.BS]=function(a,d){return d.backspace()};n[d.C0.HT]=function(a,d){return d.tab()};n[d.C0.SO]=function(a,d){return d.shiftOut()};n[d.C0.SI]=function(a,d){return d.shiftIn()};n[d.C0.ESC]=function(a,d){return a.setState(p.ESCAPED)};var l={"[":function(a,
d){d.params=[];d.currentParam=0;a.setState(p.CSI_PARAM)},"]":function(a,d){d.params=[];d.currentParam=0;a.setState(p.OSC)},P:function(a,d){d.params=[];d.currentParam=0;a.setState(p.DCS)},_:function(a,d){a.setState(p.IGNORE)},"^":function(a,d){a.setState(p.IGNORE)},c:function(a,d){d.reset()},E:function(a,d){d.x=0;d.index();a.setState(p.NORMAL)},D:function(a,d){d.index();a.setState(p.NORMAL)},M:function(a,d){d.reverseIndex();a.setState(p.NORMAL)},"%":function(a,d){d.setgLevel(0);d.setgCharset(0,k.DEFAULT_CHARSET);
a.setState(p.NORMAL);a.skipNextChar()}};l[d.C0.CAN]=function(a){return a.setState(p.NORMAL)};var e={"?":function(a){return a.setPrefix("?")},">":function(a){return a.setPrefix(">")},"!":function(a){return a.setPrefix("!")},0:function(a){return a.setParam(10*a.getParam())},1:function(a){return a.setParam(10*a.getParam()+1)},2:function(a){return a.setParam(10*a.getParam()+2)},3:function(a){return a.setParam(10*a.getParam()+3)},4:function(a){return a.setParam(10*a.getParam()+4)},5:function(a){return a.setParam(10*
a.getParam()+5)},6:function(a){return a.setParam(10*a.getParam()+6)},7:function(a){return a.setParam(10*a.getParam()+7)},8:function(a){return a.setParam(10*a.getParam()+8)},9:function(a){return a.setParam(10*a.getParam()+9)},$:function(a){return a.setPostfix("$")},'"':function(a){return a.setPostfix('"')}," ":function(a){return a.setPostfix(" ")},"'":function(a){return a.setPostfix("'")},";":function(a){return a.finalizeParam()}};e[d.C0.CAN]=function(a){return a.setState(p.NORMAL)};var u={"@":function(a,
d,e){return a.insertChars(d)},A:function(a,d,e){return a.cursorUp(d)},B:function(a,d,e){return a.cursorDown(d)},C:function(a,d,e){return a.cursorForward(d)},D:function(a,d,e){return a.cursorBackward(d)},E:function(a,d,e){return a.cursorNextLine(d)},F:function(a,d,e){return a.cursorPrecedingLine(d)},G:function(a,d,e){return a.cursorCharAbsolute(d)},H:function(a,d,e){return a.cursorPosition(d)},I:function(a,d,e){return a.cursorForwardTab(d)},J:function(a,d,e){return a.eraseInDisplay(d)},K:function(a,
d,e){return a.eraseInLine(d)},L:function(a,d,e){return a.insertLines(d)},M:function(a,d,e){return a.deleteLines(d)},P:function(a,d,e){return a.deleteChars(d)},S:function(a,d,e){return a.scrollUp(d)},T:function(a,d,e){2>d.length&&!e&&a.scrollDown(d)},X:function(a,d,e){return a.eraseChars(d)},Z:function(a,d,e){return a.cursorBackwardTab(d)},"`":function(a,d,e){return a.charPosAbsolute(d)},a:function(a,d,e){return a.HPositionRelative(d)},b:function(a,d,e){return a.repeatPrecedingCharacter(d)},c:function(a,
d,e){return a.sendDeviceAttributes(d)},d:function(a,d,e){return a.linePosAbsolute(d)},e:function(a,d,e){return a.VPositionRelative(d)},f:function(a,d,e){return a.HVPosition(d)},g:function(a,d,e){return a.tabClear(d)},h:function(a,d,e){return a.setMode(d)},l:function(a,d,e){return a.resetMode(d)},m:function(a,d,e){return a.charAttributes(d)},n:function(a,d,e){return a.deviceStatus(d)},p:function(a,d,e){switch(e){case "!":a.softReset(d)}},q:function(a,d,e,f){" "===f&&a.setCursorStyle(d)},r:function(a,
d){return a.setScrollRegion(d)},s:function(a,d){return a.saveCursor(d)},u:function(a,d){return a.restoreCursor(d)}};u[d.C0.CAN]=function(a,d,e,f,g){return g.setState(p.NORMAL)};var p;(function(a){a[a.NORMAL=0]="NORMAL";a[a.ESCAPED=1]="ESCAPED";a[a.CSI_PARAM=2]="CSI_PARAM";a[a.CSI=3]="CSI";a[a.OSC=4]="OSC";a[a.CHARSET=5]="CHARSET";a[a.DCS=6]="DCS";a[a.IGNORE=7]="IGNORE"})(p||(p={}));a=function(){function a(a,d){this._inputHandler=a;this._terminal=d;this._state=p.NORMAL}a.prototype.parse=function(a){var f=
a.length;this._position=0;this._terminal.surrogate_high&&(a=this._terminal.surrogate_high+a,this._terminal.surrogate_high="");for(;this._position<f;this._position++){var g=a[this._position];var m=a.charCodeAt(this._position);if(55296<=m&&56319>=m){var r=a.charCodeAt(this._position+1);if(isNaN(r)){this._terminal.surrogate_high=g;continue}m=1024*(m-55296)+(r-56320)+65536;g+=a.charAt(this._position+1)}if(!(56320<=m&&57343>=m))switch(this._state){case p.NORMAL:if(g in n)n[g](this,this._inputHandler);
else this._inputHandler.addChar(g,m);break;case p.ESCAPED:if(g in l){l[g](this,this._terminal);break}switch(g){case "(":case ")":case "*":case "+":case "-":case ".":switch(g){case "(":this._terminal.gcharset=0;break;case ")":this._terminal.gcharset=1;break;case "*":this._terminal.gcharset=2;break;case "+":this._terminal.gcharset=3;break;case "-":this._terminal.gcharset=1;break;case ".":this._terminal.gcharset=2}this._state=p.CHARSET;break;case "/":this._terminal.gcharset=3;this._state=p.CHARSET;this._position--;
break;case "N":break;case "O":break;case "n":this._terminal.setgLevel(2);break;case "o":this._terminal.setgLevel(3);break;case "|":this._terminal.setgLevel(3);break;case "}":this._terminal.setgLevel(2);break;case "~":this._terminal.setgLevel(1);break;case "7":this._inputHandler.saveCursor();this._state=p.NORMAL;break;case "8":this._inputHandler.restoreCursor();this._state=p.NORMAL;break;case "#":this._state=p.NORMAL;this._position++;break;case "H":this._terminal.tabSet();this._state=p.NORMAL;break;
case "=":this._terminal.log("Serial port requested application keypad.");this._terminal.applicationKeypad=!0;this._terminal.viewport.syncScrollArea();this._state=p.NORMAL;break;case ">":this._terminal.log("Switching back to normal keypad.");this._terminal.applicationKeypad=!1;this._terminal.viewport.syncScrollArea();this._state=p.NORMAL;break;default:this._state=p.NORMAL,this._terminal.error("Unknown ESC control: %s.",g)}break;case p.CHARSET:g in k.CHARSETS?(m=k.CHARSETS[g],"/"===g&&this.skipNextChar()):
m=k.DEFAULT_CHARSET;this._terminal.setgCharset(this._terminal.gcharset,m);this._terminal.gcharset=null;this._state=p.NORMAL;break;case p.OSC:if(g===d.C0.ESC||g===d.C0.BEL){g===d.C0.ESC&&this._position++;this._terminal.params.push(this._terminal.currentParam);switch(this._terminal.params[0]){case 0:case 1:case 2:this._terminal.params[1]&&(this._terminal.title=this._terminal.params[1],this._terminal.handleTitle(this._terminal.title))}this._terminal.params=[];this._terminal.currentParam=0;this._state=
p.NORMAL}else this._terminal.params.length?this._terminal.currentParam+=g:"0"<=g&&"9">=g?this._terminal.currentParam=10*this._terminal.currentParam+g.charCodeAt(0)-48:";"===g&&(this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam="");break;case p.CSI_PARAM:if(g in e){e[g](this);break}this.finalizeParam();this._state=p.CSI;case p.CSI:if(g in u)u[g](this._inputHandler,this._terminal.params,this._terminal.prefix,this._terminal.postfix,this);else this._terminal.error("Unknown CSI code: %s.",
g);this._state=p.NORMAL;this._terminal.prefix="";this._terminal.postfix="";break;case p.DCS:if(g===d.C0.ESC||g===d.C0.BEL){g===d.C0.ESC&&this._position++;switch(this._terminal.prefix){case "":break;case "$q":g=this._terminal.currentParam;m=!1;switch(g){case '"q':g='0"q';break;case '"p':g='61"p';break;case "r":g=""+(this._terminal.scrollTop+1)+";"+(this._terminal.scrollBottom+1)+"r";break;case "m":g="0m";break;default:this._terminal.error("Unknown DCS Pt: %s.",g),g=""}this._terminal.send(d.C0.ESC+
"P"+ +m+"$r"+g+d.C0.ESC+"\\");break;case "+p":break;case "+q":g=this._terminal.currentParam;m=!1;this._terminal.send(d.C0.ESC+"P"+ +m+"+r"+g+d.C0.ESC+"\\");break;default:this._terminal.error("Unknown DCS prefix: %s.",this._terminal.prefix)}this._terminal.currentParam=0;this._terminal.prefix="";this._state=p.NORMAL}else this._terminal.currentParam?this._terminal.currentParam+=g:this._terminal.prefix||"$"===g||"+"===g?2===this._terminal.prefix.length?this._terminal.currentParam=g:this._terminal.prefix+=
g:this._terminal.currentParam=g;break;case p.IGNORE:if(g===d.C0.ESC||g===d.C0.BEL)g===d.C0.ESC&&this._position++,this._state=p.NORMAL}}return this._state};a.prototype.setState=function(a){this._state=a};a.prototype.setPrefix=function(a){this._terminal.prefix=a};a.prototype.setPostfix=function(a){this._terminal.postfix=a};a.prototype.setParam=function(a){this._terminal.currentParam=a};a.prototype.getParam=function(){return this._terminal.currentParam};a.prototype.finalizeParam=function(){this._terminal.params.push(this._terminal.currentParam);
this._terminal.currentParam=0};a.prototype.skipNextChar=function(){this._position++};return a}();g.Parser=a},{"./Charsets":1,"./EscapeSequences":3}],8:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});var d=a("./utils/DomElementObjectPool"),k;(function(a){a[a.BOLD=1]="BOLD";a[a.UNDERLINE=2]="UNDERLINE";a[a.BLINK=4]="BLINK";a[a.INVERSE=8]="INVERSE";a[a.INVISIBLE=16]="INVISIBLE"})(k||(k={}));var n=null;a=function(){function a(a){this._terminal=a;this._refreshRowsQueue=[];this._refreshFramesSkipped=
0;this._refreshAnimationFrame=null;this._spanElementObjectPool=new d.DomElementObjectPool("span");if(null===n){a=this._terminal.element;var e=a.ownerDocument.createElement("span");e.innerHTML="hello world";a.appendChild(e);var f=e.offsetWidth,g=e.offsetHeight;e.style.fontWeight="bold";var k=e.offsetWidth,l=e.offsetHeight;a.removeChild(e);n=f!==k||g!==l}this._spanElementObjectPool=new d.DomElementObjectPool("span")}a.prototype.queueRefresh=function(a,d){this._refreshRowsQueue.push({start:a,end:d});
this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(this._refreshLoop.bind(this)))};a.prototype._refreshLoop=function(){if(0<this._terminal.writeBuffer.length&&5>=this._refreshFramesSkipped++)this._refreshAnimationFrame=window.requestAnimationFrame(this._refreshLoop.bind(this));else{this._refreshFramesSkipped=0;if(4<this._refreshRowsQueue.length){var a=0;var d=this._terminal.rows-1}else{a=this._refreshRowsQueue[0].start;d=this._refreshRowsQueue[0].end;for(var f=
1;f<this._refreshRowsQueue.length;f++)this._refreshRowsQueue[f].start<a&&(a=this._refreshRowsQueue[f].start),this._refreshRowsQueue[f].end>d&&(d=this._refreshRowsQueue[f].end)}this._refreshRowsQueue=[];this._refreshAnimationFrame=null;this._refresh(a,d)}};a.prototype._refresh=function(a,d){var e;d-a>=this._terminal.rows/2&&(e=this._terminal.element.parentNode)&&this._terminal.element.removeChild(this._terminal.rowContainer);var f=this._terminal.cols,g=a;d>=this._terminal.rows&&(this._terminal.log("`end` is too large. Most likely a bad CSR."),
d=this._terminal.rows-1);for(;g<=d;g++){var l=this._terminal.lines.get(g+this._terminal.ydisp);var u=this._terminal.y===g-(this._terminal.ybase-this._terminal.ydisp)&&this._terminal.cursorState&&!this._terminal.cursorHidden?this._terminal.x:-1;for(var m=this._terminal.defAttr,E=document.createDocumentFragment(),y="",B=void 0;this._terminal.children[g].children.length;){var D=this._terminal.children[g].children[0];this._terminal.children[g].removeChild(D);this._spanElementObjectPool.release(D)}for(D=
0;D<f;D++){var C=l[D][0],F=l[D][1],q=l[D][2];if(q){D===u&&(C=-1);if(C!==m&&(m!==this._terminal.defAttr&&(y&&(B.innerHTML=y,y=""),E.appendChild(B),B=null),C!==this._terminal.defAttr))if(y&&!B&&(B=this._spanElementObjectPool.acquire()),B&&(y&&(B.innerHTML=y,y=""),E.appendChild(B)),B=this._spanElementObjectPool.acquire(),-1===C)B.classList.add("reverse-video","terminal-cursor");else{var m=C&511,t=C>>9&511,h=C>>18;h&k.BOLD&&(n||B.classList.add("xterm-bold"),8>t&&(t+=8));h&k.UNDERLINE&&B.classList.add("xterm-underline");
h&k.BLINK&&B.classList.add("xterm-blink");if(h&k.INVERSE){var v=m,m=t,t=v;h&1&&8>t&&(t+=8)}h&k.INVISIBLE&&B.classList.add("xterm-hidden");h&k.INVERSE&&(257===m&&(m=15),256===t&&(t=0));256>m&&B.classList.add("xterm-bg-color-"+m);256>t&&B.classList.add("xterm-color-"+t)}if(2===q)y+='<span class="xterm-wide-char">'+F+"</span>";else if(255<F.charCodeAt(0))y+='<span class="xterm-normal-char">'+F+"</span>";else switch(F){case "&":y+="&amp;";break;case "<":y+="&lt;";break;case ">":y+="&gt;";break;default:y=
" ">=F?y+"&nbsp;":y+F}m=C}}y&&!B&&(B=this._spanElementObjectPool.acquire());B&&(y&&(B.innerHTML=y),E.appendChild(B));this._terminal.children[g].appendChild(E)}e&&this._terminal.element.appendChild(this._terminal.rowContainer);this._terminal.emit("refresh",{element:this._terminal.element,start:a,end:d})};return a}();g.Renderer=a},{"./utils/DomElementObjectPool":14}],9:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});a=function(){function a(a,d,f,e){var g=this;this.terminal=a;this.viewportElement=
d;this.scrollArea=f;this.charMeasure=e;this.lastRecordedViewportHeight=this.lastRecordedBufferLength=this.currentRowHeight=0;this.terminal.on("scroll",this.syncScrollArea.bind(this));this.terminal.on("resize",this.syncScrollArea.bind(this));this.viewportElement.addEventListener("scroll",this.onScroll.bind(this));setTimeout(function(){return g.syncScrollArea()},0)}a.prototype.refresh=function(){if(0<this.charMeasure.height){var a=this.charMeasure.height!==this.currentRowHeight;a&&(this.currentRowHeight=
this.charMeasure.height,this.viewportElement.style.lineHeight=this.charMeasure.height+"px",this.terminal.rowContainer.style.lineHeight=this.charMeasure.height+"px");var d=this.lastRecordedViewportHeight!==this.terminal.rows;if(a||d)this.lastRecordedViewportHeight=this.terminal.rows,this.viewportElement.style.height=this.charMeasure.height*this.terminal.rows+"px";this.scrollArea.style.height=this.charMeasure.height*this.lastRecordedBufferLength+"px"}};a.prototype.syncScrollArea=function(){this.lastRecordedBufferLength!==
this.terminal.lines.length?(this.lastRecordedBufferLength=this.terminal.lines.length,this.refresh()):this.lastRecordedViewportHeight!==this.terminal.rows?this.refresh():this.charMeasure.height!==this.currentRowHeight&&this.refresh();var a=this.terminal.ydisp*this.currentRowHeight;this.viewportElement.scrollTop!==a&&(this.viewportElement.scrollTop=a)};a.prototype.onScroll=function(a){this.terminal.scrollDisp(Math.round(this.viewportElement.scrollTop/this.currentRowHeight)-this.terminal.ydisp,!0)};
a.prototype.onWheel=function(a){if(0!==a.deltaY){var d=1;a.deltaMode===WheelEvent.DOM_DELTA_LINE?d=this.currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(d=this.currentRowHeight*this.terminal.rows);this.viewportElement.scrollTop+=a.deltaY*d;a.preventDefault()}};return a}();g.Viewport=a},{}],10:[function(a,f,g){function d(a){var d=String.fromCharCode(32),e=String.fromCharCode(160),f=new RegExp(e,"g");return a.split("\n").map(function(a){return a.replace(/\s+$/g,"").replace(f,d)}).join("\n")}
function k(a,d){return d?a.replace(/\r?\n/g,"\n"):a}Object.defineProperty(g,"__esModule",{value:!0});g.prepareTextForClipboard=d;g.prepareTextForTerminal=k;g.copyHandler=function(a,f){var e=window.getSelection().toString(),e=d(e);f.browser.isMSIE?window.clipboardData.setData("Text",e):a.clipboardData.setData("text/plain",e);a.preventDefault()};g.pasteHandler=function(a,d){a.stopPropagation();var e=function(e){e=k(e,d.browser.isMSWindows);d.handler(e);d.textarea.value="";d.emit("paste",e);return d.cancel(a)};
if(d.browser.isMSIE){if(window.clipboardData){var f=window.clipboardData.getData("Text");e(f)}}else a.clipboardData&&(f=a.clipboardData.getData("text/plain"),e(f))};g.rightClickHandler=function(a,f){var e=document.getSelection(),g=d(e.toString()),k=!1,l=a.clientX;a=a.clientY;if(e.rangeCount){for(var e=e.getRangeAt(0).getClientRects(),n=0;n<e.length&&!(k=e[n],k=l>k.left&&l<k.right&&a>k.top&&a<k.bottom);n++);if(g.match(/^\s$/)||!g.length)k=!1}k||(f.textarea.style.position="fixed",f.textarea.style.width=
"20px",f.textarea.style.height="20px",f.textarea.style.left=l-10+"px",f.textarea.style.top=a-10+"px",f.textarea.style.zIndex="1000",f.textarea.focus(),setTimeout(function(){f.textarea.style.position=null;f.textarea.style.width=null;f.textarea.style.height=null;f.textarea.style.left=null;f.textarea.style.top=null;f.textarea.style.zIndex=null},4))}},{}],11:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});a=a("./Generic");var d="undefined"===typeof navigator?!0:!1;f=d?"node":navigator.userAgent;
d=d?"node":navigator.platform;g.isFirefox=!!~f.indexOf("Firefox");g.isMSIE=!!~f.indexOf("MSIE")||!!~f.indexOf("Trident");g.isMac=a.contains(["Macintosh","MacIntel","MacPPC","Mac68K"],d);g.isIpad="iPad"===d;g.isIphone="iPhone"===d;g.isMSWindows=a.contains(["Windows","Win16","Win32","WinCE"],d)},{"./Generic":15}],12:[function(a,f,g){var d=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var e in d)d.hasOwnProperty(e)&&
(a[e]=d[e])};return function(d,f){function e(){this.constructor=d}a(d,f);d.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();Object.defineProperty(g,"__esModule",{value:!0});a=function(a){function f(d,e){var f=a.call(this)||this;f._document=d;f._parentElement=e;return f}d(f,a);Object.defineProperty(f.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"height",{get:function(){return this._height},enumerable:!0,
configurable:!0});f.prototype.measure=function(){var a=this;this._measureElement?this._doMeasure():(this._measureElement=this._document.createElement("span"),this._measureElement.style.position="absolute",this._measureElement.style.top="0",this._measureElement.style.left="-9999em",this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement),setTimeout(function(){return a._doMeasure()},0))};f.prototype._doMeasure=
function(){var a=this._measureElement.getBoundingClientRect();0===a.width||0===a.height||this._width===a.width&&this._height===a.height||(this._width=a.width,this._height=a.height,this.emit("charsizechanged"))};return f}(a("../EventEmitter.js").EventEmitter);g.CharMeasure=a},{"../EventEmitter.js":4}],13:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});a=function(){function a(a){this._array=Array(a);this._length=this._startIndex=0}Object.defineProperty(a.prototype,"maxLength",{get:function(){return this._array.length},
set:function(a){for(var d=Array(a),f=0;f<Math.min(a,this.length);f++)d[f]=this._array[this._getCyclicIndex(f)];this._array=d;this._startIndex=0},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"length",{get:function(){return this._length},set:function(a){if(a>this._length)for(var d=this._length;d<a;d++)this._array[d]=void 0;this._length=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"forEach",{get:function(){return this._array.forEach},enumerable:!0,configurable:!0});
a.prototype.get=function(a){return this._array[this._getCyclicIndex(a)]};a.prototype.set=function(a,d){this._array[this._getCyclicIndex(a)]=d};a.prototype.push=function(a){this._array[this._getCyclicIndex(this._length)]=a;this._length===this.maxLength?(this._startIndex++,this._startIndex===this.maxLength&&(this._startIndex=0)):this._length++};a.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length-- -1)]};a.prototype.splice=function(a,d){for(var f=[],e=2;e<arguments.length;e++)f[e-
2]=arguments[e];if(d){for(e=a;e<this._length-d;e++)this._array[this._getCyclicIndex(e)]=this._array[this._getCyclicIndex(e+d)];this._length-=d}if(f&&f.length){for(e=this._length-1;e>=a;e--)this._array[this._getCyclicIndex(e+f.length)]=this._array[this._getCyclicIndex(e)];for(e=0;e<f.length;e++)this._array[this._getCyclicIndex(a+e)]=f[e];this._length+f.length>this.maxLength?(this._startIndex+=this._length+f.length-this.maxLength,this._length=this.maxLength):this._length+=f.length}};a.prototype.trimStart=
function(a){a>this._length&&(a=this._length);this._startIndex+=a;this._length-=a};a.prototype.shiftElements=function(a,d,f){if(!(0>=d)){if(0>a||a>=this._length)throw Error("start argument out of range");if(0>a+f)throw Error("Cannot shift elements in list beyond index 0");if(0<f){for(var e=d-1;0<=e;e--)this.set(a+e+f,this.get(a+e));a=a+d+f-this._length;if(0<a)for(this._length+=a;this._length>this.maxLength;)this._length--,this._startIndex++}else for(e=0;e<d;e++)this.set(a+e+f,this.get(a+e))}};a.prototype._getCyclicIndex=
function(a){return(this._startIndex+a)%this.maxLength};return a}();g.CircularList=a},{}],14:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});a=function(){function a(a){this._type=this.type=a;this._pool=[];this._inUse={}}a.prototype.acquire=function(){var d=0===this._pool.length?this._createNew():this._pool.pop();return this._inUse[d.getAttribute(a.OBJECT_ID_ATTRIBUTE)]=d};a.prototype.release=function(d){if(!this._inUse[d.getAttribute(a.OBJECT_ID_ATTRIBUTE)])throw Error("Could not release an element not yet acquired");
delete this._inUse[d.getAttribute(a.OBJECT_ID_ATTRIBUTE)];this._cleanElement(d);this._pool.push(d)};a.prototype._createNew=function(){var d=document.createElement(this._type),f=a._objectCount++;d.setAttribute(a.OBJECT_ID_ATTRIBUTE,f.toString(10));return d};a.prototype._cleanElement=function(a){a.className="";a.innerHTML=""};return a}();a.OBJECT_ID_ATTRIBUTE="data-obj-id";a._objectCount=0;g.DomElementObjectPool=a},{}],15:[function(a,f,g){Object.defineProperty(g,"__esModule",{value:!0});g.contains=
function(a,f){return 0<=a.indexOf(f)}},{}],16:[function(a,f,g){function d(a,d,f){if(null==a.pageX)return null;var e=a.pageX;for(a=a.pageY;d&&d!==self.document.documentElement;)e-=d.offsetLeft,a-=d.offsetTop,d="offsetParent"in d?d.offsetParent:d.parentElement;e=Math.ceil(e/f.width);a=Math.ceil(a/f.height);return[e,a]}Object.defineProperty(g,"__esModule",{value:!0});g.getCoords=d;g.getRawByteCoords=function(a,f,g,e,u){f=d(a,f,g);a=f[0];f=f[1];a=Math.min(Math.max(a,0),e);f=Math.min(Math.max(f,0),u);
return{x:a+32,y:f+32}}},{}],17:[function(a,f,g){function d(a,e,f){var h=this;if(!(this instanceof d))return new d(a,e,f);h.browser=F;h.cancel=d.cancel;r.EventEmitter.call(this);"number"===typeof a&&(a={cols:a,rows:e,handler:f});a=a||{};Object.keys(d.defaults).forEach(function(e){null==a[e]&&(a[e]=d.options[e],d[e]!==d.defaults[e]&&(a[e]=d[e]));h[e]=a[e]});8===a.colors.length?a.colors=a.colors.concat(d._colors.slice(8)):16===a.colors.length?a.colors=a.colors.concat(d._colors.slice(16)):10===a.colors.length?
a.colors=a.colors.slice(0,-2).concat(d._colors.slice(8,-2),a.colors.slice(-2)):18===a.colors.length&&(a.colors=a.colors.concat(d._colors.slice(16,-2),a.colors.slice(-2)));this.colors=a.colors;this.options=a;this.parent=a.body||a.parent||(t?t.getElementsByTagName("body")[0]:null);this.cols=a.cols||a.geometry[0];this.rows=a.rows||a.geometry[1];this.geometry=[this.cols,this.rows];if(a.handler)this.on("data",a.handler);this.cursorState=this.y=this.x=this.ydisp=this.ybase=0;this.cursorHidden=!1;this.convertEol;
this.queue="";this.scrollTop=0;this.scrollBottom=this.rows-1;this.cursorBlinkInterval=this.customKeydownHandler=null;this.insertMode=this.originMode=this.applicationCursor=this.applicationKeypad=!1;this.wraparoundMode=!0;this.gcharset=this.charset=this.normal=null;this.glevel=0;this.charsets=[null];this.decLocator;this.x10Mouse;this.vt200Mouse;this.vt300Mouse;this.normalMouse;this.mouseEvents;this.sendFocus;this.utfMouse;this.sgrMouse;this.urxvtMouse;this.element;this.children;this.refreshStart;this.refreshEnd;
this.savedX;this.savedY;this.savedCols;this.writable=this.readable=!0;this.curAttr=this.defAttr=131840;this.params=[];this.currentParam=0;this.postfix=this.prefix="";this.inputHandler=new E.InputHandler(this);this.parser=new y.Parser(this.inputHandler,this);this.renderer=this.renderer||null;this.linkifier=this.linkifier||new D.Linkifier;this.writeBuffer=[];this.writeStopped=this.xoffSentToCatchUp=this.writeInProgress=!1;this.surrogate_high="";this.lines=new z.CircularList(this.scrollback);for(e=this.rows;e--;)this.lines.push(this.blankLine());
this.tabs;this.setupStops();this.userScrolling=!1}function k(a,d,e,f){Array.isArray(a)||(a=[a]);a.forEach(function(a){a.addEventListener(d,e,f||!1)})}function n(a,d,e,f){a.removeEventListener(d,e,f||!1)}function l(a,d){function h(){this.constructor=a}h.prototype=d.prototype;a.prototype=new h}function e(a,d){a=a.browser.isMac&&d.altKey&&!d.ctrlKey&&!d.metaKey||a.browser.isMSWindows&&d.altKey&&d.ctrlKey&&!d.metaKey;return"keypress"==d.type?a:a&&(!d.keyCode||47<d.keyCode)}function u(a,e,f){var h=a<<
16|e<<8|f;if(null!=u._cache[h])return u._cache[h];for(var g=Infinity,v=-1,k=0,l,m,n;k<d.vcolors.length;k++){l=d.vcolors[k];m=l[0];n=l[1];l=l[2];m=u.distance(a,e,f,m,n,l);if(0===m){v=k;break}m<g&&(g=m,v=k)}return u._cache[h]=v}Object.defineProperty(g,"__esModule",{value:!0});var p=a("./CompositionHelper"),r=a("./EventEmitter"),A=a("./Viewport"),w=a("./handlers/Clipboard"),z=a("./utils/CircularList"),m=a("./EscapeSequences"),E=a("./InputHandler"),y=a("./Parser"),B=a("./Renderer"),D=a("./Linkifier"),
C=a("./utils/CharMeasure"),F=a("./utils/Browser"),q=a("./utils/Mouse"),t="undefined"!=typeof window?window.document:null;l(d,r.EventEmitter);d.prototype.eraseAttr=function(){return this.defAttr&-512|this.curAttr&511};d.tangoColors="#2e3436 #cc0000 #4e9a06 #c4a000 #3465a4 #75507b #06989a #d3d7cf #555753 #ef2929 #8ae234 #fce94f #729fcf #ad7fa8 #34e2e2 #eeeeec".split(" ");d.colors=function(){function a(a,d,h){f.push("#"+e(a)+e(d)+e(h))}function e(a){a=a.toString(16);return 2>a.length?"0"+a:a}var f=d.tangoColors.slice(),
g=[0,95,135,175,215,255],k;for(k=0;216>k;k++)a(g[k/36%6|0],g[k/6%6|0],g[k%6]);for(k=0;24>k;k++)g=8+10*k,a(g,g,g);return f}();d._colors=d.colors.slice();d.vcolors=function(){for(var a=[],e=d.colors,f=0,g;256>f;f++)g=parseInt(e[f].substring(1),16),a.push([g>>16&255,g>>8&255,g&255]);return a}();d.defaults={colors:d.colors,theme:"default",convertEol:!1,termName:"xterm",geometry:[80,24],cursorBlink:!1,cursorStyle:"block",visualBell:!1,popOnBell:!1,scrollback:1E3,screenKeys:!1,debug:!1,cancelEvents:!1,
disableStdin:!1,useFlowControl:!1,tabStopWidth:8};d.options={};d.focus=null;(function(a,d,e){if(a.forEach)return a.forEach(d,e);for(var h=0;h<a.length;h++)d.call(e,a[h],h,a)})(function(a){if(Object.keys)return Object.keys(a);var d,e=[];for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&e.push(d);return e}(d.defaults),function(a){d[a]=d.defaults[a];d.options[a]=d.defaults[a]});d.prototype.focus=function(){return this.textarea.focus()};d.prototype.getOption=function(a,e){if(!(a in d.defaults))throw Error('No option with key "'+
a+'"');return"undefined"!==typeof this.options[a]?this.options[a]:this[a]};d.prototype.setOption=function(a,e){if(!(a in d.defaults))throw Error('No option with key "'+a+'"');switch(a){case "scrollback":if(this.options[a]!==e){if(this.lines.length>e){var h=this.lines.length-e,f=0>this.ydisp-h;this.lines.trimStart(h);this.ybase=Math.max(this.ybase-h,0);this.ydisp=Math.max(this.ydisp-h,0);f&&this.refresh(0,this.rows-1)}this.lines.maxLength=e;this.viewport.syncScrollArea()}}this[a]=e;this.options[a]=
e;switch(a){case "cursorBlink":this.setCursorBlinking(e);break;case "cursorStyle":this.element.classList.toggle("xterm-cursor-style-underline","underline"===e);this.element.classList.toggle("xterm-cursor-style-bar","bar"===e);break;case "tabStopWidth":this.setupStops()}};d.prototype.restartCursorBlinking=function(){this.setCursorBlinking(this.options.cursorBlink)};d.prototype.setCursorBlinking=function(a){this.element.classList.toggle("xterm-cursor-blink",a);this.clearCursorBlinkingInterval();if(a){var d=
this;this.cursorBlinkInterval=setInterval(function(){d.element.classList.toggle("xterm-cursor-blink-on")},600)}};d.prototype.clearCursorBlinkingInterval=function(){this.element.classList.remove("xterm-cursor-blink-on");this.cursorBlinkInterval&&(clearInterval(this.cursorBlinkInterval),this.cursorBlinkInterval=null)};d.bindFocus=function(a){k(a.textarea,"focus",function(e){a.sendFocus&&a.send(m.C0.ESC+"[I");a.element.classList.add("focus");a.showCursor();a.restartCursorBlinking.apply(a);d.focus=a;
a.emit("focus",{terminal:a})})};d.prototype.blur=function(){return this.textarea.blur()};d.bindBlur=function(a){k(a.textarea,"blur",function(e){a.refresh(a.y,a.y);a.sendFocus&&a.send(m.C0.ESC+"[O");a.element.classList.remove("focus");a.clearCursorBlinkingInterval.apply(a);d.focus=null;a.emit("blur",{terminal:a})})};d.prototype.initGlobal=function(){function a(a){w.rightClickHandler.call(this,a,e)}var e=this;d.bindKeys(this);d.bindFocus(this);d.bindBlur(this);k(this.element,"copy",function(a){w.copyHandler.call(this,
a,e)});k(this.textarea,"paste",function(a){w.pasteHandler.call(this,a,e)});k(this.element,"paste",function(a){w.pasteHandler.call(this,a,e)});e.browser.isFirefox?k(this.element,"mousedown",function(d){2==d.button&&a(d)}):k(this.element,"contextmenu",a)};d.bindKeys=function(a){k(a.element,"keydown",function(d){t.activeElement==this&&a.keyDown(d)},!0);k(a.element,"keypress",function(d){t.activeElement==this&&a.keyPress(d)},!0);k(a.element,"keyup",function(d){16!==d.keyCode&&17!==d.keyCode&&18!==d.keyCode&&
a.focus(a)},!0);k(a.textarea,"keydown",function(d){a.keyDown(d)},!0);k(a.textarea,"keypress",function(d){a.keyPress(d);this.value=""},!0);k(a.textarea,"compositionstart",a.compositionHelper.compositionstart.bind(a.compositionHelper));k(a.textarea,"compositionupdate",a.compositionHelper.compositionupdate.bind(a.compositionHelper));k(a.textarea,"compositionend",a.compositionHelper.compositionend.bind(a.compositionHelper));a.on("refresh",a.compositionHelper.updateCompositionElements.bind(a.compositionHelper));
a.on("refresh",function(d){a.queueLinkification(d.start,d.end)})};d.prototype.insertRow=function(a){"object"!=typeof a&&(a=t.createElement("div"));this.rowContainer.appendChild(a);this.children.push(a);return a};d.prototype.open=function(a,d){var e=this,f=0;this.parent=a||this.parent;if(!this.parent)throw Error("Terminal requires a parent element.");this.context=this.parent.ownerDocument.defaultView;this.document=this.parent.ownerDocument;this.body=this.document.getElementsByTagName("body")[0];this.element=
this.document.createElement("div");this.element.classList.add("terminal");this.element.classList.add("xterm");this.element.classList.add("xterm-theme-"+this.theme);this.setCursorBlinking(this.options.cursorBlink);this.element.style.height;this.element.setAttribute("tabindex",0);this.viewportElement=t.createElement("div");this.viewportElement.classList.add("xterm-viewport");this.element.appendChild(this.viewportElement);this.viewportScrollArea=t.createElement("div");this.viewportScrollArea.classList.add("xterm-scroll-area");
this.viewportElement.appendChild(this.viewportScrollArea);this.rowContainer=t.createElement("div");this.rowContainer.classList.add("xterm-rows");this.element.appendChild(this.rowContainer);this.children=[];this.linkifier.attachToDom(t,this.children);this.helperContainer=t.createElement("div");this.helperContainer.classList.add("xterm-helpers");this.element.appendChild(this.helperContainer);this.textarea=t.createElement("textarea");this.textarea.classList.add("xterm-helper-textarea");this.textarea.setAttribute("autocorrect",
"off");this.textarea.setAttribute("autocapitalize","off");this.textarea.setAttribute("spellcheck","false");this.textarea.tabIndex=0;this.textarea.addEventListener("focus",function(){e.emit("focus",{terminal:e})});this.textarea.addEventListener("blur",function(){e.emit("blur",{terminal:e})});this.helperContainer.appendChild(this.textarea);this.compositionView=t.createElement("div");this.compositionView.classList.add("composition-view");this.compositionHelper=new p.CompositionHelper(this.textarea,this.compositionView,
this);this.helperContainer.appendChild(this.compositionView);this.charSizeStyleElement=t.createElement("style");for(this.helperContainer.appendChild(this.charSizeStyleElement);f<this.rows;f++)this.insertRow();this.parent.appendChild(this.element);this.charMeasure=new C.CharMeasure(t,this.helperContainer);this.charMeasure.on("charsizechanged",function(){e.updateCharSizeCSS()});this.charMeasure.measure();this.viewport=new A.Viewport(this,this.viewportElement,this.viewportScrollArea,this.charMeasure);
this.renderer=new B.Renderer(this);this.refresh(0,this.rows-1);this.initGlobal();"undefined"==typeof d&&(console.warn("You did not pass the `focus` argument in `Terminal.prototype.open()`.\nThe `focus` argument now defaults to `true` but starting with xterm.js 3.0 it will default to `false`."),d=!0);d&&this.focus();k(this.element,"click",function(){var a=t.getSelection(),d=a.isCollapsed;("boolean"==typeof d?d:"Range"!=a.type)&&e.focus()});this.bindMouse();this.emit("open")};d.loadAddon=function(d,
e){if("object"===typeof g&&"object"===typeof f)return a("./addons/"+d+"/"+d);console.error("Cannot load a module without a CommonJS or RequireJS environment.");return!1};d.prototype.updateCharSizeCSS=function(){this.charSizeStyleElement.textContent=".xterm-wide-char{width:"+2*this.charMeasure.width+"px;}"+(".xterm-normal-char{width:"+this.charMeasure.width+"px;}")};d.prototype.bindMouse=function(){function a(a){switch(a.overrideType||a.type){case "mousedown":var d=null!=a.button?+a.button:null!=a.which?
a.which-1:null;l.browser.isMSIE&&(d=1===d?0:4===d?1:d);break;case "mouseup":d=3;break;case "DOMMouseScroll":d=0>a.detail?64:65;break;case "wheel":d=0<a.wheelDeltaY?64:65}var e=a.shiftKey?4:0;var h=a.metaKey?8:0;var g=a.ctrlKey?16:0;e=e|h|g;l.vt200Mouse?e&=g:l.normalMouse||(e=0);d=32+(e<<2)+d;if(g=q.getRawByteCoords(a,l.rowContainer,l.charMeasure,l.cols,l.rows))switch(f(d,g),a.overrideType||a.type){case "mousedown":p=d;break;case "mouseup":p=32}}function d(a){var d=p;(a=q.getRawByteCoords(a,l.rowContainer,
l.charMeasure,l.cols,l.rows))&&f(d+32,a)}function e(a,d){if(l.utfMouse){if(2047===d)return a.push(0);127>d?a.push(d):(2047<d&&(d=2047),a.push(192|d>>6),a.push(128|d&63))}else{if(255===d)return a.push(0);127<d&&(d=127);a.push(d)}}function f(a,d){if(l.vt300Mouse){a&=3;d.x-=32;d.y-=32;var f=m.C0.ESC+"[24";if(0===a)f+="1";else if(1===a)f+="3";else if(2===a)f+="5";else{if(3===a)return;f+="0"}f+="~["+d.x+","+d.y+"]\r";l.send(f)}else l.decLocator?(a&=3,d.x-=32,d.y-=32,0===a?a=2:1===a?a=4:2===a?a=6:3===a&&
(a=3),l.send(m.C0.ESC+"["+a+";"+(3===a?4:0)+";"+d.y+";"+d.x+";"+(d.page||0)+"&w")):l.urxvtMouse?(d.x-=32,d.y-=32,d.x++,d.y++,l.send(m.C0.ESC+"["+a+";"+d.x+";"+d.y+"M")):l.sgrMouse?(d.x-=32,d.y-=32,l.send(m.C0.ESC+"[<"+((3===(a&3)?a&-4:a)-32)+";"+d.x+";"+d.y+(3===(a&3)?"m":"M"))):(f=[],e(f,a),e(f,d.x),e(f,d.y),l.send(m.C0.ESC+"[M"+String.fromCharCode.apply(String,f)))}var g=this.element,l=this,p=32;k(g,"mousedown",function(e){if(l.mouseEvents){a(e);l.focus();if(l.vt200Mouse)return e.overrideType="mouseup",
a(e),l.cancel(e);l.normalMouse&&k(l.document,"mousemove",d);l.x10Mouse||k(l.document,"mouseup",function G(e){a(e);l.normalMouse&&n(l.document,"mousemove",d);n(l.document,"mouseup",G);return l.cancel(e)});return l.cancel(e)}});k(g,"wheel",function(d){if(l.mouseEvents&&!(l.x10Mouse||l.vt300Mouse||l.decLocator))return a(d),l.cancel(d)});k(g,"wheel",function(a){if(!l.mouseEvents)return l.viewport.onWheel(a),l.cancel(a)})};d.prototype.destroy=function(){this.writable=this.readable=!1;this._events={};this.handler=
function(){};this.write=function(){};this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)};d.prototype.refresh=function(a,d){this.renderer&&this.renderer.queueRefresh(a,d)};d.prototype.queueLinkification=function(a,d){if(this.linkifier)for(;a<=d;a++)this.linkifier.linkifyRow(a)};d.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.y,this.y))};d.prototype.scroll=function(){this.lines.length===this.lines.maxLength&&(this.lines.trimStart(1),
this.ybase--,0!==this.ydisp&&this.ydisp--);this.ybase++;this.userScrolling||(this.ydisp=this.ybase);var a=this.ybase+this.rows-1;a-=this.rows-1-this.scrollBottom;a===this.lines.length?this.lines.push(this.blankLine()):this.lines.splice(a,0,this.blankLine());0!==this.scrollTop&&(0!==this.ybase&&(this.ybase--,this.userScrolling||(this.ydisp=this.ybase)),this.lines.splice(this.ybase+this.scrollTop,1));this.updateRange(this.scrollTop);this.updateRange(this.scrollBottom);this.emit("scroll",this.ydisp)};
d.prototype.scrollDisp=function(a,d){0>a?this.userScrolling=!0:a+this.ydisp>=this.ybase&&(this.userScrolling=!1);this.ydisp+=a;this.ydisp>this.ybase?this.ydisp=this.ybase:0>this.ydisp&&(this.ydisp=0);d||this.emit("scroll",this.ydisp);this.refresh(0,this.rows-1)};d.prototype.scrollPages=function(a){this.scrollDisp(a*(this.rows-1))};d.prototype.scrollToTop=function(){this.scrollDisp(-this.ydisp)};d.prototype.scrollToBottom=function(){this.scrollDisp(this.ybase-this.ydisp)};d.prototype.write=function(a){this.writeBuffer.push(a);
this.options.useFlowControl&&!this.xoffSentToCatchUp&&5<=this.writeBuffer.length&&(this.send(m.C0.DC3),this.xoffSentToCatchUp=!0);if(!this.writeInProgress&&0<this.writeBuffer.length){this.writeInProgress=!0;var d=this;setTimeout(function(){d.innerWrite()})}};d.prototype.innerWrite=function(){for(var a=this.writeBuffer.splice(0,300);0<a.length;){var d=a.shift();this.xoffSentToCatchUp&&0===a.length&&0===this.writeBuffer.length&&(this.send(m.C0.DC1),this.xoffSentToCatchUp=!1);this.refreshEnd=this.refreshStart=
this.y;d=this.parser.parse(d);this.parser.setState(d);this.updateRange(this.y);this.refresh(this.refreshStart,this.refreshEnd)}if(0<this.writeBuffer.length){var e=this;setTimeout(function(){e.innerWrite()},0)}else this.writeInProgress=!1};d.prototype.writeln=function(a){this.write(a+"\r\n")};d.prototype.attachCustomKeydownHandler=function(a){this.customKeydownHandler=a};d.prototype.setHypertextLinkHandler=function(a){if(!this.linkifier)throw Error("Cannot attach a hypertext link handler before Terminal.open is called");
this.linkifier.setHypertextLinkHandler(a);this.refresh(0,this.rows-1)};d.prototype.setHypertextValidationCallback=function(a){if(!this.linkifier)throw Error("Cannot attach a hypertext validation callback before Terminal.open is called");this.linkifier.setHypertextValidationCallback(a);this.refresh(0,this.rows-1)};d.prototype.registerLinkMatcher=function(a,d,e){if(this.linkifier)return a=this.linkifier.registerLinkMatcher(a,d,e),this.refresh(0,this.rows-1),a};d.prototype.deregisterLinkMatcher=function(a){this.linkifier&&
this.linkifier.deregisterLinkMatcher(a)&&this.refresh(0,this.rows-1)};d.prototype.keyDown=function(a){if(this.customKeydownHandler&&!1===this.customKeydownHandler(a))return!1;this.restartCursorBlinking();if(!this.compositionHelper.keydown.bind(this.compositionHelper)(a))return this.ybase!==this.ydisp&&this.scrollToBottom(),!1;var d=this.evaluateKeyEscapeSequence(a);d.key===m.C0.DC3?this.writeStopped=!0:d.key===m.C0.DC1&&(this.writeStopped=!1);if(d.scrollDisp)return this.scrollDisp(d.scrollDisp),this.cancel(a,
!0);if(e(this,a))return!0;d.cancel&&this.cancel(a,!0);if(!d.key)return!0;this.emit("keydown",a);this.emit("key",d.key,a);this.showCursor();this.handler(d.key);return this.cancel(a,!0)};d.prototype.evaluateKeyEscapeSequence=function(a){var d={cancel:!1,key:void 0,scrollDisp:void 0},e=a.shiftKey<<0|a.altKey<<1|a.ctrlKey<<2|a.metaKey<<3;switch(a.keyCode){case 8:if(a.shiftKey){d.key=m.C0.BS;break}d.key=m.C0.DEL;break;case 9:if(a.shiftKey){d.key=m.C0.ESC+"[Z";break}d.key=m.C0.HT;d.cancel=!0;break;case 13:d.key=
m.C0.CR;d.cancel=!0;break;case 27:d.key=m.C0.ESC;d.cancel=!0;break;case 37:e?(d.key=m.C0.ESC+"[1;"+(e+1)+"D",d.key==m.C0.ESC+"[1;3D"&&(d.key=this.browser.isMac?m.C0.ESC+"b":m.C0.ESC+"[1;5D")):d.key=this.applicationCursor?m.C0.ESC+"OD":m.C0.ESC+"[D";break;case 39:e?(d.key=m.C0.ESC+"[1;"+(e+1)+"C",d.key==m.C0.ESC+"[1;3C"&&(d.key=this.browser.isMac?m.C0.ESC+"f":m.C0.ESC+"[1;5C")):d.key=this.applicationCursor?m.C0.ESC+"OC":m.C0.ESC+"[C";break;case 38:e?(d.key=m.C0.ESC+"[1;"+(e+1)+"A",d.key==m.C0.ESC+
"[1;3A"&&(d.key=m.C0.ESC+"[1;5A")):d.key=this.applicationCursor?m.C0.ESC+"OA":m.C0.ESC+"[A";break;case 40:e?(d.key=m.C0.ESC+"[1;"+(e+1)+"B",d.key==m.C0.ESC+"[1;3B"&&(d.key=m.C0.ESC+"[1;5B")):d.key=this.applicationCursor?m.C0.ESC+"OB":m.C0.ESC+"[B";break;case 45:a.shiftKey||a.ctrlKey||(d.key=m.C0.ESC+"[2~");break;case 46:d.key=e?m.C0.ESC+"[3;"+(e+1)+"~":m.C0.ESC+"[3~";break;case 36:d.key=e?m.C0.ESC+"[1;"+(e+1)+"H":this.applicationCursor?m.C0.ESC+"OH":m.C0.ESC+"[H";break;case 35:d.key=e?m.C0.ESC+"[1;"+
(e+1)+"F":this.applicationCursor?m.C0.ESC+"OF":m.C0.ESC+"[F";break;case 33:a.shiftKey?d.scrollDisp=-(this.rows-1):d.key=m.C0.ESC+"[5~";break;case 34:a.shiftKey?d.scrollDisp=this.rows-1:d.key=m.C0.ESC+"[6~";break;case 112:d.key=e?m.C0.ESC+"[1;"+(e+1)+"P":m.C0.ESC+"OP";break;case 113:d.key=e?m.C0.ESC+"[1;"+(e+1)+"Q":m.C0.ESC+"OQ";break;case 114:d.key=e?m.C0.ESC+"[1;"+(e+1)+"R":m.C0.ESC+"OR";break;case 115:d.key=e?m.C0.ESC+"[1;"+(e+1)+"S":m.C0.ESC+"OS";break;case 116:d.key=e?m.C0.ESC+"[15;"+(e+1)+"~":
m.C0.ESC+"[15~";break;case 117:d.key=e?m.C0.ESC+"[17;"+(e+1)+"~":m.C0.ESC+"[17~";break;case 118:d.key=e?m.C0.ESC+"[18;"+(e+1)+"~":m.C0.ESC+"[18~";break;case 119:d.key=e?m.C0.ESC+"[19;"+(e+1)+"~":m.C0.ESC+"[19~";break;case 120:d.key=e?m.C0.ESC+"[20;"+(e+1)+"~":m.C0.ESC+"[20~";break;case 121:d.key=e?m.C0.ESC+"[21;"+(e+1)+"~":m.C0.ESC+"[21~";break;case 122:d.key=e?m.C0.ESC+"[23;"+(e+1)+"~":m.C0.ESC+"[23~";break;case 123:d.key=e?m.C0.ESC+"[24;"+(e+1)+"~":m.C0.ESC+"[24~";break;default:!a.ctrlKey||a.shiftKey||
a.altKey||a.metaKey?this.browser.isMac||!a.altKey||a.ctrlKey||a.metaKey||(65<=a.keyCode&&90>=a.keyCode?d.key=m.C0.ESC+String.fromCharCode(a.keyCode+32):192===a.keyCode?d.key=m.C0.ESC+"`":48<=a.keyCode&&57>=a.keyCode&&(d.key=m.C0.ESC+(a.keyCode-48))):65<=a.keyCode&&90>=a.keyCode?d.key=String.fromCharCode(a.keyCode-64):32===a.keyCode?d.key=String.fromCharCode(0):51<=a.keyCode&&55>=a.keyCode?d.key=String.fromCharCode(a.keyCode-51+27):56===a.keyCode?d.key=String.fromCharCode(127):219===a.keyCode?d.key=
String.fromCharCode(27):220===a.keyCode?d.key=String.fromCharCode(28):221===a.keyCode&&(d.key=String.fromCharCode(29))}return d};d.prototype.setgLevel=function(a){this.glevel=a;this.charset=this.charsets[a]};d.prototype.setgCharset=function(a,d){this.charsets[a]=d;this.glevel===a&&(this.charset=d)};d.prototype.keyPress=function(a){this.cancel(a);if(a.charCode)var d=a.charCode;else if(null==a.which)d=a.keyCode;else if(0!==a.which&&0!==a.charCode)d=a.which;else return!1;if(!d||(a.altKey||a.ctrlKey||
a.metaKey)&&!e(this,a))return!1;d=String.fromCharCode(d);this.emit("keypress",d,a);this.emit("key",d,a);this.showCursor();this.handler(d);return!1};d.prototype.send=function(a){var d=this;this.queue||setTimeout(function(){d.handler(d.queue);d.queue=""},1);this.queue+=a};d.prototype.bell=function(){if(this.visualBell){var a=this;this.element.style.borderColor="white";setTimeout(function(){a.element.style.borderColor=""},10);this.popOnBell&&this.focus()}};d.prototype.log=function(){if(this.debug&&this.context.console&&
this.context.console.log){var a=Array.prototype.slice.call(arguments);this.context.console.log.apply(this.context.console,a)}};d.prototype.error=function(){if(this.debug&&this.context.console&&this.context.console.error){var a=Array.prototype.slice.call(arguments);this.context.console.error.apply(this.context.console,a)}};d.prototype.resize=function(a,d){if(!isNaN(a)&&!isNaN(d)){var e;if(a!==this.cols||d!==this.rows){1>a&&(a=1);1>d&&(d=1);var f=this.cols;if(f<a)for(f=[this.defAttr," ",1],e=this.lines.length;e--;)for(;this.lines.get(e).length<
a;)this.lines.get(e).push(f);this.cols=a;this.setupStops(this.cols);f=this.rows;var g=0;if(f<d)for(;f++<d;)this.lines.length<d+this.ybase&&(0<this.ybase&&this.lines.length<=this.ybase+this.y+g+1?(this.ybase--,g++,0<this.ydisp&&this.ydisp--):this.lines.push(this.blankLine())),this.children.length<d&&this.insertRow();else for(;f-- >d;)this.lines.length>d+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++)),this.children.length>d&&(e=this.children.shift())&&
e.parentNode.removeChild(e);this.rows=d;this.y>=d&&(this.y=d-1);g&&(this.y+=g);this.x>=a&&(this.x=a-1);this.scrollTop=0;this.scrollBottom=d-1;this.charMeasure.measure();this.refresh(0,this.rows-1);this.normal=null;this.geometry=[this.cols,this.rows];this.emit("resize",{terminal:this,cols:a,rows:d})}}};d.prototype.updateRange=function(a){a<this.refreshStart&&(this.refreshStart=a);a>this.refreshEnd&&(this.refreshEnd=a)};d.prototype.maxRange=function(){this.refreshStart=0;this.refreshEnd=this.rows-1};
d.prototype.setupStops=function(a){null!=a?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);for(;a<this.cols;a+=this.getOption("tabStopWidth"))this.tabs[a]=!0};d.prototype.prevStop=function(a){null==a&&(a=this.x);for(;!this.tabs[--a]&&0<a;);return a>=this.cols?this.cols-1:0>a?0:a};d.prototype.nextStop=function(a){null==a&&(a=this.x);for(;!this.tabs[++a]&&a<this.cols;);return a>=this.cols?this.cols-1:0>a?0:a};d.prototype.eraseRight=function(a,d){var e=this.lines.get(this.ybase+d);if(e){for(var f=
[this.eraseAttr()," ",1];a<this.cols;a++)e[a]=f;this.updateRange(d)}};d.prototype.eraseLeft=function(a,d){var e=this.lines.get(this.ybase+d);if(e){var f=[this.eraseAttr()," ",1];for(a++;a--;)e[a]=f;this.updateRange(d)}};d.prototype.clear=function(){if(0!==this.ybase||0!==this.y){this.lines.set(0,this.lines.get(this.ybase+this.y));this.lines.length=1;this.y=this.ybase=this.ydisp=0;for(var a=1;a<this.rows;a++)this.lines.push(this.blankLine());this.refresh(0,this.rows-1);this.emit("scroll",this.ydisp)}};
d.prototype.eraseLine=function(a){this.eraseRight(0,a)};d.prototype.blankLine=function(a){a=[a?this.eraseAttr():this.defAttr," ",1];for(var d=[],e=0;e<this.cols;e++)d[e]=a;return d};d.prototype.ch=function(a){return a?[this.eraseAttr()," ",1]:[this.defAttr," ",1]};d.prototype.is=function(a){return 0===(this.termName+"").indexOf(a)};d.prototype.handler=function(a){this.options.disableStdin||(this.ybase!==this.ydisp&&this.scrollToBottom(),this.emit("data",a))};d.prototype.handleTitle=function(a){this.emit("title",
a)};d.prototype.index=function(){this.y++;this.y>this.scrollBottom&&(this.y--,this.scroll());this.x>=this.cols&&this.x--};d.prototype.reverseIndex=function(){this.y===this.scrollTop?(this.lines.shiftElements(this.y+this.ybase,this.rows-1,1),this.lines.set(this.y+this.ybase,this.blankLine(!0)),this.updateRange(this.scrollTop),this.updateRange(this.scrollBottom)):this.y--};d.prototype.reset=function(){this.options.rows=this.rows;this.options.cols=this.cols;var a=this.customKeydownHandler,e=this.cursorBlinkInterval;
d.call(this,this.options);this.customKeydownHandler=a;this.cursorBlinkInterval=e;this.refresh(0,this.rows-1);this.viewport.syncScrollArea()};d.prototype.tabSet=function(){this.tabs[this.x]=!0};d.prototype.matchColor=u;u._cache={};u.distance=function(a,d,e,f,g,k){return Math.pow(30*(a-f),2)+Math.pow(59*(d-g),2)+Math.pow(11*(e-k),2)};d.EventEmitter=r.EventEmitter;d.inherits=l;d.on=k;d.off=n;d.cancel=function(a,d){if(this.cancelEvents||d)return a.preventDefault(),a.stopPropagation(),!1};f.exports=d},
{"./CompositionHelper":2,"./EscapeSequences":3,"./EventEmitter":4,"./InputHandler":5,"./Linkifier":6,"./Parser":7,"./Renderer":8,"./Viewport":9,"./handlers/Clipboard":10,"./utils/Browser":11,"./utils/CharMeasure":12,"./utils/CircularList":13,"./utils/Mouse":16}]},{},[17])(17)});var colorScheme_tango=!0,colorScheme_solarized="#002b36 #002b36 #dc322f #859900 #b58900 #268bd2 #6c71c4 #2aa198 #93a1a1 #657b83 #dc322f #859900 #b58900 #268bd2 #6c71c4 #2aa198 #fdf6e3 #93a1a1 #93a1a1".split(" "),colorScheme_monokai="#272822 #272822 #dc2566 #8fc029 #d4c96e #55bcce #9358fe #56b7a5 #acada1 #76715e #fa2772 #a7e22e #e7db75 #66d9ee #ae82ff #66efd5 #cfd0c2 #f1ebeb #f1ebeb".split(" "),colorScheme_ashes="#1c2023 #1c2023 #c7ae95 #95c7ae #aec795 #ae95c7 #c795ae #95aec7 #c7ccd1 #747c84 #c7ae95 #95c7ae #aec795 #ae95c7 #c795ae #95aec7 #f3f4f5 #c7ccd1 #c7ccd1".split(" "),
colorScheme_material="#263238 #263238 #ff9800 #8bc34a #ffc107 #03a9f4 #e91e63 #009688 #cfd8dc #37474f #ffa74d #9ccc65 #ffa000 #81d4fa #ad1457 #26a69a #eceff1 #eceff1 #eceff1".split(" "),colorScheme_google="#ffffff #ffffff #cc342b #198844 #fba922 #3971ed #a36ac7 #3971ed #c5c8c6 #969896 #cc342b #198844 #fba922 #3971ed #a36ac7 #3971ed #ffffff #373b41 #373b41".split(" "),colorScheme_monolight="#f7f7f7 #f7f7f7 #7c7c7c #8e8e8e #a0a0a0 #686868 #747474 #868686 #b9b9b9 #525252 #7c7c7c #8e8e8e #a0a0a0 #686868 #747474 #868686 #f7f7f7 #464646 #464646".split(" "),
colorScheme_monodark="#000000 #000000 #6b6b6b #c4c4c4 #b3b3b3 #999999 #717171 #8a8a8a #b5cabb #202020 #464646 #f8f8f8 #eeeeee #7c7c7c #adadad #c0c0c0 #99ac9e #ffffff #ffffff".split(" "),colorSchemes=[!0,colorScheme_solarized,colorScheme_monokai,colorScheme_ashes,colorScheme_material,colorScheme_google,colorScheme_monolight,colorScheme_monodark],colorSchemesNames="Tango;Solarized;Monokai;Ashes;Material;Google;Mono (light);Mono (Dark)".split(";"),c=0;
function setColorScheme(b,a){var f=document.styleSheets[0],g;if(!colorScheme_tango)for(g=0;34>g;g++)f.removeRule(13);if(!0===b)colorScheme_tango=!0,getColorSchemeName(!0);else{f.insertRule(".terminal .terminal-cursor {background-color: "+b[17]+"; color: "+b[0]+" !important;}",13);f.insertRule(".terminal:not(.focus) .terminal-cursor {outline: 1px solid "+b[17]+" !important;}",13);f.insertRule(".terminal .xterm-viewport {background-color: "+b[0]+" !important;}",13);f.insertRule("html, body {background-color: "+
b[0]+" !important;}",13);f.insertRule(".terminal {color: "+b[18]+" !important;}",13);f.insertRule(".sidenav {background-color: "+modColorPercent(b[0],-.2)+" !important;}",13);for(g=1;16>g;g++)f.insertRule(".terminal .xterm-color-"+(g-1)+" {color: "+b[g]+" !important;}",13),f.insertRule(".terminal .xterm-bg-color-"+(g-1)+" {background-color: "+b[g]+" !important;}",13);colorScheme_tango=!1;getColorSchemeName(b,a)}}
function getColorSchemeName(b,a){if(!a)for(var f=0;f<colorSchemes.length;f++)if(b===colorSchemes[f]){a=colorSchemesNames[f];c=f;break}a=void 0===a?"Custom":a;document.getElementById("currentColor").innerHTML=a}
function importXresources(){var b=new FileReader,a=document.getElementById("Xresources").files[0];b.readAsText(a);b.onload=function(){var f=b.result.split("\n"),f=f.sort((new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"})).compare);colorScheme_custom=[];for(var g=0;g<f.length;g++)-1!=f[g].indexOf("#")&&colorScheme_custom.push("#"+f[g].split("#")[1]);if(19!==colorScheme_custom.length)return alert("Uploaded file could not be parsed correctly.");setColorScheme(colorScheme_custom,".Xresources"===
a.name?void 0:a.name.split(".")[0])}}function cycleColorSchemes(b){c=0===b?--c:++c;if(c>colorSchemes.length-1||0>c)c=1===b?0:colorSchemes.length-1;setColorScheme(colorSchemes[c])};SSHyClient.crypto={};SSHyClient.crypto.AES=function(b,a,f,g){this.cipher=new sjcl.cipher.aes(sjcl.codec.bytes.toBits(toByteArray(b)),a);this.mode=a;this.mode==SSHyClient.AES_CBC&&(this.iv=toByteArray(f));this.counter=g};
SSHyClient.crypto.AES.prototype={encrypt:function(b){b=this.cipher.encrypt(toByteArray(b),this.iv,this.counter);this.mode==SSHyClient.AES_CBC&&(this.iv=b.slice(-16));return fromByteArray(b)},decrypt:function(b){b=toByteArray(b);if(this.mode==SSHyClient.AES_CBC){var a=this.cipher.decrypt(b,this.iv);this.iv=b.slice(-16)}else a=this.cipher.encrypt(b,this.iv,this.counter);return fromByteArray(a)}};
SSHyClient.crypto.counter=function(b,a){a=void 0===a?1:a;this.blocksize=b/8;this.overflow=0;0===a?this.value=(new array(this.blocksize+1)).join("\u00ff"):(b=deflate_long(a.subtract(BigInteger.ONE),!1),this.value=Array(this.blocksize-b.length+1).join("\x00")+b)};
SSHyClient.crypto.counter.prototype={increment:function(){for(var b=this.blocksize-1;-1<b;){var a=String.fromCharCode((this.value.charCodeAt(b)+1)%256);this.value=setCharAt(this.value,b,a);if("\x00"!=a)return this.value;--b}return this.value=Array(this.blocksize-deflate_long(this.overflow,!1).length+1).join("\x00")+x}};SSHyClient.Message=function(b){this.position=0;this.packet=void 0===b?String():String(b)};
SSHyClient.Message.prototype={toString:function(){return this.packet},get_bytes:function(b){var a=this.packet.substring(this.position,this.position+b);this.position+=b;return a.length<b&&1048576>b?a+Array(b-a.length+1).join("\x00"):a},get_int:function(){return struct.unpack("I",this.get_bytes(4))[0]},get_string:function(){return this.get_bytes(this.get_int())},get_mpint:function(){return inflate_long(this.get_string())},add_bytes:function(b){this.packet+=b;return this},add_boolean:function(b){this.add_bytes(!0===
b?"\u0001":"\x00");return this},add_int:function(b){this.packet+=struct.pack("I",b);return this},add_mpint:function(b){this.add_string(deflate_long(b));return this},add_string:function(b){this.add_int(b.length);this.packet+=b;return this}};SSHyClient.Transport=function(b){this.local_version="SSH-2.0-SSHyClient";this.remote_version="";this.H=this.K=this.remote_kex_message=this.local_kex_message=null;this.preferred_algorithms=["diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group14-sha256,diffie-hellman-group14-sha1,diffie-hellman-group1-sha256,diffie-hellman-group1-sha1","ssh-rsa","aes128-ctr","hmac-sha2-256,hmac-sha1","none"];this.session_id=this.preferred_compression=this.preferred_mac=this.preferred_cipher=
this.preferred_keys=this.preferred_kex=null;this.parceler=new SSHyClient.parceler(b,this);this.auth=new SSHyClient.auth(this.parceler);this.need_buffer=!1;this.temp_buffer="";this.settings=new SSHyClient.settings;this.lastKey="";this.closing=!1};
SSHyClient.Transport.prototype={kex_info:{"diffie-hellman-group1-sha1":function(b){return new SSHyClient.dhGroup1(b,1,"SHA-1")},"diffie-hellman-group14-sha1":function(b){return new SSHyClient.dhGroup1(b,14,"SHA-1")},"diffie-hellman-group-exchange-sha1":function(b){return new SSHyClient.dhGroupEx(b,"SHA-1")},"diffie-hellman-group1-sha256":function(b){return new SSHyClient.dhGroup1(b,1,"SHA-256")},"diffie-hellman-group14-sha256":function(b){return new SSHyClient.dhGroup1(b,14,"SHA-256")},"diffie-hellman-group-exchange-sha256":function(b){return new SSHyClient.dhGroupEx(b,
"SHA-256")}},mac_info:{"hmac-sha1":function(b){b.parceler.hmacSHAVersion="SHA-1";b.parceler.macSize=20},"hmac-sha2-256":function(b){b.parceler.hmacSHAVersion="SHA-256";b.parceler.macSize=32}},handle:function(b){if(this.parceler.encrypting)this.parceler.inbound_buffer+=b,this.parceler.decrypt();else if(this.remote_version)if((new SSHyClient.Message(b)).get_int()>b.length&&!this.need_buffer&&(this.need_buffer=!0),this.need_buffer)this.temp_buffer?(this.temp_buffer+=b,this.parceler.inbound_sequence_num++,
this.need_buffer=!1,this.handler_table[this.temp_buffer.substring(5,6).charCodeAt(0)](this,this.temp_buffer)):this.temp_buffer=b;else{this.parceler.inbound_sequence_num++;try{this.handler_table[b.substring(5,6).charCodeAt(0)](this,b)}catch(a){console.log(a),console.log("Error! code - "+b.substring(5,6).charCodeAt(0)+" does not exist!")}}else this.parceler.send(this.local_version+"\r\n",!0),this.remote_version=b.slice(0,b.length-2),this.send_kex_init()},handler_table:{1:function(b,a){b.disconnect()},
2:function(b,a){},3:function(b,a){},6:function(b,a){"ssh-userauth"==(new SSHyClient.Message(a.slice(1))).get_string()&&b.auth.ssh_connection()},20:function(b,a){a=(new SSHyClient.Message(a)).get_string();b.parse_kex_reply(a);b.remote_kex_message=b.cut_padding(a);b.preferred_kex.start()},31:function(b,a){b.preferred_kex.parse_reply(31,a.slice(6))},33:function(b,a){b.preferred_kex.parse_reply(33,a.slice(6))},51:function(b,a){b.auth.awaitingAuthentication=!1;auth_failure()},52:function(b,a){b.auth.authenticated=
!0;b.auth.awaitingAuthentication=!1;b.auth.auth_success(!0)},80:function(b,a){},91:function(b,a){b.auth.get_pty("xterm",termCols,termRows)},93:function(b,a){},94:function(b,a){a=fromUtf8(a.slice(9));b.settings.parseLocalEcho(a);if(b.settings.localEcho&&b.lastKey){if(a==b.lastKey.substring(0,1)){b.lastKey=b.lastKey.slice(1);return}b.lastKey=b.lastKey.slice(1);term.write("\b")}term.write(a)},96:function(b,a){},97:function(b,a){b.disconnect()},98:function(b,a){}},winAdjust:function(){var b=new SSHyClient.Message;
b.add_bytes(String.fromCharCode(SSHyClient.MSG_CHANNEL_WINDOW_ADJUST));b.add_int(0);b.add_int(40674);this.send_packet(b.toString());SSHyClient.WINDOW_SIZE=40674},disconnect:function(b){this.closing=!0;b=void 0===b?11:b;var a=new SSHyClient.Message;a.add_bytes(String.fromCharCode(SSHyClient.MSG_DISCONNECT));a.add_int(b);this.send_packet(a.toString());ws.close();term.write("\r\nConnection to "+wsproxyURL.split("/")[3].split(":")[0]+" closed.")},keepAlive:function(){var b=new SSHyClient.Message;b.add_bytes(String.fromCharCode(SSHyClient.MSG_IGNORE));
b.add_string("");transport.send_packet(b.toString())},cut_padding:function(b){return b.substring(1,b.length-b[0].charCodeAt(0))},send_packet:function(b){this.parceler.send(b)},send_kex_init:function(){var b=new SSHyClient.Message;b.add_bytes(String.fromCharCode(SSHyClient.MSG_KEX_INIT));b.add_bytes(read_rng(16));b.add_string(this.preferred_algorithms[0]);b.add_string(this.preferred_algorithms[1]);b.add_string(this.preferred_algorithms[2]);b.add_string(this.preferred_algorithms[2]);b.add_string(this.preferred_algorithms[3]);
b.add_string(this.preferred_algorithms[3]);b.add_string(this.preferred_algorithms[4]);b.add_string(this.preferred_algorithms[4]);b.add_string("");b.add_string("");b.add_boolean(!1);b.add_int(0);this.local_kex_message=b.toString();this.send_packet(b.toString())},parse_kex_reply:function(b){b=new SSHyClient.Message(b);b.get_bytes(18);var a=filter(this.preferred_algorithms[0],b.get_string().split(",")),f=filter(this.preferred_algorithms[1],b.get_string().split(","));b.get_string().split(",");var g=filter(this.preferred_algorithms[2],
b.get_string().split(","));b.get_string().split(",");b=filter(this.preferred_algorithms[3],b.get_string().split(","));if(!(a&&f&&g&&b)){var d="";a||(d+="KEX Algorithm,");f||(d+="Host Keys,");g||(d+="Encryption Cipher,");b||(d+="MAC Algorithm");term.write("Incompatable SSH server (no compatable - "+d+" )");throw"Chosen Algs = kex="+a+", keys="+f+", cipher="+g+", mac="+b;}this.preferred_kex=this.kex_info[a](this);this.preferred_mac=this.mac_info[b](this)},generate_key:function(b,a,f){var g=new SSHyClient.Message;
g.add_mpint(this.K);g.add_bytes(this.H);g.add_bytes(b);g.add_bytes(this.session_id);return"SHA-1"==f?(new SSHyClient.hash.SHA1(g.toString())).digest().substring(0,a):(new SSHyClient.hash.SHA256(g.toString())).digest().substring(0,a)},activate_encryption:function(b){this.parceler.block_size=16;this.parceler.outbound_enc_iv=this.generate_key("A",this.parceler.block_size,b);this.parceler.outbound_enc_key=this.generate_key("C",this.parceler.block_size,b);this.parceler.outbound_mac_key=this.generate_key("E",
this.parceler.macSize,b);this.parceler.outbound_cipher=new SSHyClient.crypto.AES(this.parceler.outbound_enc_key,SSHyClient.AES_CTR,this.parceler.outbound_enc_iv,new SSHyClient.crypto.counter(8*this.parceler.block_size,inflate_long(this.parceler.outbound_enc_iv)));this.parceler.inbound_enc_iv=this.generate_key("B",this.parceler.block_size,b);this.parceler.inbound_enc_key=this.generate_key("D",this.parceler.block_size,b);this.parceler.inbound_mac_key=this.generate_key("F",this.parceler.macSize,b);this.parceler.inbound_cipher=
new SSHyClient.crypto.AES(this.parceler.inbound_enc_key,SSHyClient.AES_CTR,this.parceler.inbound_enc_iv,new SSHyClient.crypto.counter(8*this.parceler.block_size,inflate_long(this.parceler.inbound_enc_iv)));this.parceler.encrypting=!0;this.auth.request_auth()},handle_dec:function(b){b=this.cut_padding(b);try{this.handler_table[b.substring(0,1).charCodeAt(0)](this,b)}catch(a){console.log(a),console.log("Error! code - "+b.substring(0,1).charCodeAt(0)+" does not exist!")}},expect_key:function(b){this.auth.send_command(b)},
send_new_keys:function(b){var a=new SSHyClient.Message;a.add_bytes(String.fromCharCode(SSHyClient.MSG_NEW_KEYS));this.send_packet(a);this.activate_encryption(b);this.parceler.inbound_sequence_num++}};SSHyClient.parceler=function(b,a){this.socket=b;this.transport=a;this.encrypting=!1;this.macSize=this.hmacSHAVersion=this.inbound_cipher=this.inbound_mac_key=this.inbound_enc_key=this.inbound_iv=this.outbound_cipher=this.outbound_mac_key=this.outbound_enc_key=this.outbound_enc_iv=null;this.inbound_sequence_num=this.outbound_sequence_num=0;this.block_size=8;this.inbound_buffer=this.decrypted_header=""};
SSHyClient.parceler.prototype={send:function(b,a){b=b.toString();void 0!==a?this.socket.send(btoa(b)):(this.encrypting?(b=this.pack_message(b),a=this.outbound_cipher.encrypt(b),a+=SSHyClient.hash.HMAC(this.outbound_mac_key,struct.pack("I",this.outbound_sequence_num)+b,this.hmacSHAVersion),this.socket.send(btoa(a))):this.socket.send(btoa(this.pack_message(b))),this.outbound_sequence_num++)},pack_message:function(b){var a=3+this.block_size-(b.length+8)%this.block_size;b=struct.pack("I",b.length+a+1)+
struct.pack("B",a)+b;return b+=this.encrypting?read_rng(a):Array(a+1).join("\x00")},decrypt:function(){for(var b=" ",a;null!==b;){if(this.decrypted_header)a=this.decrypted_header,this.decrypted_header="";else{a=this.read_ibuffer();if(!a)break;a=this.inbound_cipher.decrypt(a)}var f=struct.unpack("I",a.substring(0,4))[0],g=a.substring(4),b=this.read_ibuffer(f+this.macSize-g.length);if(!b){this.decrypted_header=a;break}a=b.substring(0,f-g.length);var d=b.substring(f-g.length);a=g+this.inbound_cipher.decrypt(a);
g=struct.pack("I",this.inbound_sequence_num)+struct.pack("I",f)+a;if(SSHyClient.hash.HMAC(this.inbound_mac_key,g,this.hmacSHAVersion)!=d)throw display_error("Inbound MAC verification failed - Mismatched MAC"),"Inbound MAC verification failed - Mismatched MAC";this.inbound_sequence_num++;SSHyClient.WINDOW_SIZE-=f;0>=SSHyClient.WINDOW_SIZE&&this.transport.winAdjust();this.transport.handle_dec(a)}},read_ibuffer:function(b){b=void 0===b?this.block_size:b;if(this.inbound_buffer.length<b)return null;var a=
this.inbound_buffer.substring(0,b);this.inbound_buffer=this.inbound_buffer.substring(b);return a}};SSHyClient.auth=function(b){this.parceler=b;this.authenticated=this.password=this.username=null;this.awaitingAuthentication=!1};
SSHyClient.auth.prototype={request_auth:function(){var b=new SSHyClient.Message;b.add_bytes(String.fromCharCode(SSHyClient.MSG_SERVICE_REQUEST));b.add_string("ssh-userauth");this.parceler.send(b)},ssh_connection:function(){if(isWrapper&&term){var b=new SSHyClient.Message;b.add_bytes(String.fromCharCode(SSHyClient.MSG_USERAUTH_REQUEST));b.add_string(termUsername);b.add_string("ssh-connection");b.add_string("password");b.add_boolean(!1);b.add_string(termPassword);this.parceler.send(b);this.awaitingAuthentication=
!0}else startxtermjs()},auth_success:function(b){b&&(document.title=termUsername+"@"+wsproxyURL.split("/")[3].split(":")[0],termUsername="",termPassword=void 0,this.open_channel("session"))},open_channel:function(b,a){a=new SSHyClient.Message;a.add_bytes(String.fromCharCode(SSHyClient.MSG_CHANNEL_OPEN));a.add_string(b);a.add_int(1);a.add_int(SSHyClient.WINDOW_SIZE);a.add_int(SSHyClient.MAX_PACKET_SIZE);this.parceler.send(a)},get_pty:function(b,a,f){var g=new SSHyClient.Message;g.add_bytes(String.fromCharCode(SSHyClient.MSG_CHANNEL_REQUEST));
g.add_int(0);g.add_string("pty-req");g.add_boolean(!1);g.add_string(b||"xterm");g.add_int(a||80);g.add_int(f||24);g.add_int(0);g.add_int(0);g.add_string("");this.parceler.send(g);this.invoke_shell()},resize_pty:function(b,a){var f=new SSHyClient.Message;f.add_bytes(String.fromCharCode(SSHyClient.MSG_CHANNEL_REQUEST));f.add_int(0);f.add_string("window-change");f.add_boolean(!1);f.add_int(b||80);f.add_int(a||24);f.add_int(0);f.add_int(0);this.parceler.send(f)},invoke_shell:function(){var b=new SSHyClient.Message;
b.add_bytes(String.fromCharCode(SSHyClient.MSG_CHANNEL_REQUEST));b.add_int(0);b.add_string("shell");b.add_boolean(!1);this.parceler.send(b);void 0===termPassword?term.write("\n\r"):startxtermjs()},send_command:function(b){var a=new SSHyClient.Message;a.add_bytes(String.fromCharCode(SSHyClient.MSG_CHANNEL_DATA));a.add_int(0);a.add_string(b.toString());this.parceler.send(a)}};SSHyClient.dhGroup1=function(b,a,f){this.transport=b;this.SHAVersion=f;this.x=new BigInteger("0",10);this.e=new BigInteger("0",10);this.f=new BigInteger("0",10);this.P=1==a?new BigInteger("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE65381FFFFFFFFFFFFFFFF",16):new BigInteger("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AACAA68FFFFFFFFFFFFFFFF",
16);this.G=new BigInteger("2",10)};
SSHyClient.dhGroup1.prototype={start:function(){this.x=inflate_long(read_rng(128));this.e=this.G.modPow(this.x,this.P);var b=new SSHyClient.Message;b.add_bytes(String.fromCharCode(SSHyClient.MSG_KEXDH_INIT));b.add_mpint(this.e);this.transport.send_packet(b)},parse_reply:function(b,a){a=new SSHyClient.Message(a);b=a.get_string();this.f=a.get_mpint();a.get_string();a=this.f.modPow(this.x,this.P);var f=new SSHyClient.Message;f.add_string(this.transport.local_version);f.add_string(this.transport.remote_version);
f.add_string(this.transport.local_kex_message);f.add_string(this.transport.remote_kex_message);f.add_string(b);f.add_mpint(this.e);f.add_mpint(this.f);f.add_mpint(a);this.transport.K=a;this.transport.session_id=this.transport.H="SHA-1"==this.SHAVersion?(new SSHyClient.hash.SHA1(f.toString())).digest():(new SSHyClient.hash.SHA256(f.toString())).digest();this.transport.send_new_keys(this.SHAVersion)}};SSHyClient.dhGroupEx=function(b,a){this.transport=b;this.SHAVersion=a;this.f=this.e=this.x=this.g=this.q=this.p=null;this.min_bits=1024;this.max_bits=8192;this.preferred_bits=2048};
SSHyClient.dhGroupEx.prototype={start:function(){var b=new SSHyClient.Message;b.add_bytes(String.fromCharCode(SSHyClient.MSG_KEXDH_GEX_REQUEST));b.add_int(this.min_bits);b.add_int(this.preferred_bits);b.add_int(this.max_bits);this.transport.send_packet(b)},parse_reply:function(b,a){b==SSHyClient.MSG_KEXDH_GEX_GROUP?this.parse_gex_group(a):b==SSHyClient.MSG_KEXDH_GEX_REPLY&&this.parse_gex_reply(a)},generate_x:function(){for(var b=this.p.subtract(BigInteger.ONE),b=b.divide(new BigInteger("2",10)),a=
deflate_long(b,0),f=a[0].charCodeAt(0),a=a.length,g=255;!(f&128);)f<<=1,g>>=1;for(;!(f=read_rng(a),f=String.fromCharCode(f[0].charCodeAt(0)&g)+f.substring(1),f=inflate_long(f,1),0<f.compareTo(BigInteger.ONE)&&0<b.compareTo(f)););this.x=f},parse_gex_group:function(b){b=new SSHyClient.Message(b);this.p=b.get_mpint();this.g=b.get_mpint();this.generate_x();this.e=this.g.modPow(this.x,this.p);b=new SSHyClient.Message;b.add_bytes(String.fromCharCode(SSHyClient.MSG_KEXDH_GEX_INIT));b.add_mpint(this.e);this.transport.send_packet(b)},
parse_gex_reply:function(b){b=new SSHyClient.Message(b);var a=b.get_string();this.f=b.get_mpint();b.get_string();b=this.f.modPow(this.x,this.p);var f=new SSHyClient.Message;f.add_string(this.transport.local_version);f.add_string(this.transport.remote_version);f.add_string(this.transport.local_kex_message);f.add_string(this.transport.remote_kex_message);f.add_string(a);f.add_int(this.min_bits);f.add_int(this.preferred_bits);f.add_int(this.max_bits);f.add_mpint(this.p);f.add_mpint(this.g);f.add_mpint(this.e);
f.add_mpint(this.f);f.add_mpint(b);this.transport.K=b;this.transport.session_id=this.transport.H="SHA-1"==this.SHAVersion?(new SSHyClient.hash.SHA1(f.toString())).digest():(new SSHyClient.hash.SHA256(f.toString())).digest();this.transport.send_new_keys(this.SHAVersion)}};var ws,transport,term=null,isFirefox=-1<navigator.userAgent.toLowerCase().indexOf("firefox"),isWrapper=!0,failedAttempts,termRows,termCols=0,fontWidth=10,fontHeight=18,termUsername="",termPassword;
window.onload=function(){document.body.innerHTML+='<div id="settingsNav" class="sidenav">\n\t\t\t\t\t\t\t\t<a href="javascript:void(0)" class="closebtn" onclick="toggleNav(0)">&times;</a>\n\t\t\t\t\t\t\t\t<span class="title large">Terminal Options</span>\n\t\t\t\t\t\t\t\t<hr>\n\t\t\t\t\t\t\t\t<span class="title" style="padding-top:20px">Font Size</span>\n\t\t\t\t\t\t\t\t<a class="leftarrow" href="javascript:void(0)" onclick="modFontSize(-1)"><--</a>\n\t\t\t\t\t\t\t\t<span class="middle" id="currentFontSize">16px</span>\n\t\t\t\t\t\t\t\t<a class="rightarrow" href="javascript:void(0)" onclick="modFontSize(1)">--\x3e</a>\n\t\t\t\t\t\t\t\t<span class="title" style="padding-top:40px">Terminal Size</span>\n\t\t\t\t\t\t\t\t<span class="leftarrow">Cols:\n\t\t\t\t\t\t\t\t\t<input type="number" id="termCols" oninput="modTerm(0, this.value)">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="rightarrow">Rows:\n\t\t\t\t\t\t\t\t\t<input type="number" id="termRows" oninput="modTerm(1, this.value)">\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="title" style="padding-top:60px;">Local Echo</span>\n\t\t\t\t\t\t\t\t<a class="leftarrow" href="javascript:void(0)" onclick="setLocalEcho(-1)"><--</a>\n\t\t\t\t\t\t\t\t<a class="rightarrow" href="javascript:void(0)" onclick="setLocalEcho(1)">--\x3e</a>\n\t\t\t\t\t\t\t\t<div class="fileUpload btn btn-primary nomargin">\n\t\t\t\t\t\t\t\t\t<span class="tooltiptext" style="visibility:visible;" id="autoEchoState">State: Enabled</span>\n\t\t\t\t\t\t\t\t\t<span class="middle" id="currentLEcho">Auto</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class="title" style="padding-top:50px">Colours</span>\n\t\t\t\t\t\t\t\t<a class="leftarrow" href="javascript:void(0)" onclick="cycleColorSchemes(0)"><--</a>\n\t\t\t\t\t\t\t\t<span class="middle" id="currentColor">Monokai</span>\n\t\t\t\t\t\t\t\t<a class="rightarrow" href="javascript:void(0)" onclick="cycleColorSchemes(1)">--\x3e</a>\n\t\t\t\t\t\t\t\t<div class="fileUpload btn btn-primary">\n\t\t\t\t\t\t\t\t\t<span class="tooltiptext">Format: Xresources</span>\n\t\t\t\t\t\t\t\t\t<span class="middle" style="width:220px;">Upload</span>\n\t\t\t\t\t\t\t\t\t<input type="file" title=" " id="Xresources" class="upload" onchange="importXresources()" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class="title" style="padding-top:20px;">Keep Alive</span>\n\t\t\t\t\t\t\t\t<div class="fileUpload btn btn-primary">\n\t\t\t\t\t\t\t\t\t<span class="tooltiptext">0 to disable</span>\n\t\t\t\t\t\t\t\t\t<input type="number" class="large" id="keepAlive" onchange="transport.settings.setKeepAlive(this.value);" placeholder="0">\n\t\t\t\t\t\t\t\t\t<span style="font-size:16px;"> seconds</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span id="gear" class="gear" style="visibility:visible;" onclick="toggleNav(250)">&#9881</span>';setColorScheme(colorScheme_material);
startSSHy()};window.onresize=function(){resize()};window.onbeforeunload=function(){(ws||transport)&&transport.disconnect()};function resize(){termCols=Math.floor((window.innerWidth-10)/fontWidth)-(isFirefox?-2:0);termRows=Math.floor((window.innerHeight-10)/fontHeight)-1;ws&&transport&&term&&changeTermSize()}
function modFontSize(b){transport.settings.fontSize+=b;document.getElementById("terminal").style.fontSize=transport.settings.fontSize+"px";try{var a=document.getElementsByClassName("terminal-cursor")[0].getBoundingClientRect()}catch(f){a=document.getElementsByClassName("xterm-color-2")[0].getBoundingClientRect()}fontWidth=14<transport.settings.fontSize?Math.ceil(a.width):Math.floor(a.width);fontHeight=Math.floor(a.height);document.getElementById("currentFontSize").innerHTML=transport.settings.fontSize+
"px";resize()}function modTerm(b,a){b?termRows=a:termCols=a;changeTermSize(!0)}function changeTermSize(b){term.resize(termCols,termRows);transport.auth.resize_pty(termCols,termRows);var a=document.getElementsByClassName("xterm-rows");a&&(a[0].style.lineHeight=null);void 0===b&&(document.getElementById("termCols").value=termCols,document.getElementById("termRows").value=termRows)}
function toggleNav(b){document.getElementById("settingsNav").style.width=b;b=document.getElementById("gear").style;b.visibility="hidden"===b.visibility?"visible":"hidden"}
function setLocalEcho(b){transport.settings.localEcho=Math.min(Math.max(transport.settings.localEcho+=b,0),2);document.getElementById("currentLEcho").innerHTML=["Force Off","Auto","Force On"][transport.settings.localEcho];b=document.getElementById("autoEchoState");1===transport.settings.localEcho?(b.style.visibility="visible",b.innerHTML="State: "+(0===transport.settings.autoEchoState?"Disabled":"Enabled")):b.style.visibility="hidden"}
function auth_failure(){term.write("Access Denied\r\n");5<=++failedAttempts?(term.write("Too many failed authentication attempts"),transport.disconnect()):(term.write(termUsername+"@"+wsproxyURL.split("/")[2].split(":")[0]+"'s password:"),termPassword="")}
function startSSHy(){document.title="SSHy Client";ws=new WebSocket(wsproxyURL,"base64");ws.onopen=function(b){transport=new SSHyClient.Transport(ws)};ws.onmessage=function(b){transport.handle(atob(b.data))};ws.onclose=function(b){term?transport.closing||term.write("\n\n\rWebsocket connection to "+wsproxyURL.split("/")[2].split(":")[0]+" was unexpectedly closed."):(termInit(),term.write("WebSocket connection failed: Error in connection establishment: code "+b.code))}}
function termInit(){resize();term=new Terminal({cols:termCols,rows:termRows});term.open(document.getElementById("terminal"),!0);document.getElementById("termCols").value=termCols;document.getElementById("termRows").value=termRows}
function startxtermjs(){termInit();transport.auth.authenticated||term.write("Login as: ");term.textarea.onkeydown=function(b){if(!(!ws||!transport||5<=failedAttempts||transport.auth.awaitingAuthentication||1<b.key.length&&(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey)&&"Backspace"!=b.key)){if(transport.auth.authenticated){if(1!=b.key.length||b.altKey||b.ctrlKey||b.metaKey)if(1==b.key.length&&b.shiftKey&&b.ctrlKey){if("V"!=b.key){b.preventDefault();return}}else var a=term.evaluateKeyEscapeSequence(b).key;
else a=b.key;transport.settings.localEcho&&transport.settings.parseKey(b);return null===a?null:transport.expect_key(a)}if(!(b.altKey||b.ctrlKey||b.metaKey||1<b.key.length&&13!=b.keyCode&&8!=b.keyCode))switch(b.keyCode){case 8:void 0===termPassword?0<termUsername.length&&(term.write("\b"),term.eraseRight(term.x-1,term.y),termUsername=termUsername.slice(0,termUsername.length-1)):termPassword=termPassword.slice(0,termPassword.length-1);break;case 13:void 0===termPassword?(term.write("\n\r"+termUsername+
"@"+wsproxyURL.split("/")[2].split(":")[0]+"'s password:"),termPassword=""):(term.write("\n\r"),transport.auth.ssh_connection());break;default:void 0===termPassword?(termUsername+=b.key,term.write(b.key)):termPassword+=b.key}}};term.textarea.onpaste=function(b){if(b.clipboardData)if(b=b.clipboardData.getData("text/plain"),5E3<b.length){b=splitSlice(b);for(var a=0;a<b.length-1;a++)transport.expect_key(b[a])}else transport.expect_key(b)}};SSHyClient.settings=function(){this.localEcho=1;this.fsHintEnter=fromByteArray([27,91,63,49]);this.fsHintLeave=fromByteArray([27,91,51,50]);this.autoEchoState=1;this.autoEchoTimeout=0;this.blockedKeys=[":"];this.keepAliveInterval=void 0;this.fontSize=16};
SSHyClient.settings.prototype={parseLocalEcho:function(b){if(1===this.localEcho&&100<performance.now()-this.autoEchoTimeout)if(!this.autoEchoState)-1!=b.indexOf(this.fsHintLeave)&&-1!=b.indexOf("@")&&(this.autoEchoState=1,document.getElementById("autoEchoState").innerHTML="State: Enabled",this.autoEchoTimeout=performance.now());else if(-1!=b.indexOf(this.fsHintEnter)||64>b.length&&-1!=b.toLowerCase().indexOf("password"))this.autoEchoState=0,document.getElementById("autoEchoState").innerHTML="State: Disabled",
this.autoEchoTimeout=performance.now()},parseKey:function(b){1===this.localEcho&&0===this.autoEchoState||1<b.key.length||this.blockedKeys.includes(b.key)||b.altKey||b.ctrlKey||b.metaKey||(transport.lastKey||term.write(b.key),transport.lastKey+=b.key)},setKeepAlive:function(b){b=void 0===b?0:1E3*b;0===b||void 0!==this.keepAliveInterval?(clearInterval(this.keepAliveInterval),this.keepAliveInterval=void 0,b&&(this.keepAliveInterval=setInterval(transport.keepAlive,b))):this.keepAliveInterval=setInterval(transport.keepAlive,
b)}};
